(()=>{var S=Object.defineProperty;var C=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var T=(e,n,t)=>n in e?S(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,k=(e,n)=>{for(var t in n||(n={}))P.call(n,t)&&T(e,t,n[t]);if(C)for(var t of C(n))q.call(n,t)&&T(e,t,n[t]);return e};var L=(e,n,t)=>(T(e,typeof n!="symbol"?n+"":n,t),t);var M=(e,n,t)=>new Promise((r,o)=>{var a=l=>{try{s(t.next(l))}catch(c){o(c)}},i=l=>{try{s(t.throw(l))}catch(c){o(c)}},s=l=>l.done?r(l.value):Promise.resolve(l.value).then(a,i);s((t=t.apply(e,n)).next())});var O=()=>{if(document.getElementById("cubfirst-styles"))return;let e=document.createElement("style");e.id="cubfirst-styles",e.textContent=`
    /* Styles de base - Namespace cubfirst */
    .cubfirst-hidden { display: none !important; }
    .cubfirst-cursor-pointer { cursor: pointer; }
    
    /* Modal */
    .cubfirst-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }
    
    .cubfirst-modal-content {
      background: white;
      padding: 2rem;
      border-radius: 8px;
      max-width: 90%;
      max-height: 90%;
      position: relative;
    }
    
    .cubfirst-modal-close {
      position: absolute;
      top: 10px;
      right: 15px;
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: #666;
    }
    
    /* Tabs */
    .cubfirst-tabs .tab-title {
      padding: 0.5rem 1rem;
      cursor: pointer;
      border-bottom: 2px solid transparent;
    }
    
    .cubfirst-tabs .tab-title.active {
      border-bottom-color: #3b82f6;
      color: #3b82f6;
    }
    
    /* Accordion */
    .accordion-header {
      cursor: pointer;
      padding: 1rem;
      border: 1px solid #e5e7eb;
      background: #f9fafb;
    }
    
    .accordion-content {
      padding: 1rem;
      border: 1px solid #e5e7eb;
      border-top: none;
    }
    
    /* Dropdown */
    .cubfirst-dropdown-menu[hidden] {
      display: none !important;
    }
    
    .cubfirst-dropdown-menu {
      position: absolute;
      background: white;
      border: 1px solid #e5e7eb;
      border-radius: 0.375rem;
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      z-index: 50;
    }
    
    /* Carousel */
    .cubfirst-carousel {
      position: relative;
      overflow: hidden;
    }
    
    .carousel-slide {
      display: none;
    }
    
    .carousel-slide.active {
      display: block;
    }
    
    /* Toast */
    .cubfirst-toast {
      position: fixed;
      bottom: 1rem;
      left: 50%;
      transform: translateX(-50%);
      padding: 1rem 1.5rem;
      border-radius: 0.5rem;
      color: white;
      z-index: 1000;
      transition: opacity 0.5s ease;
    }
    
    .cubfirst-toast.success { background-color: #10b981; }
    .cubfirst-toast.error { background-color: #ef4444; }
    .cubfirst-toast.info { background-color: #6b7280; }
    
    /* Animations */
    .cubfirst-reveal-fade {
      animation: fadeIn 0.6s ease-in-out;
    }
    
    .cubfirst-reveal-slide {
      animation: slideUp 0.6s ease-in-out;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    @keyframes slideUp {
      from { transform: translateY(30px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    
    /* Hamburger */
    .cubfirst-hamburger {
      display: flex;
      flex-direction: column;
      width: 30px;
      height: 20px;
      cursor: pointer;
    }
    
    .cubfirst-hamburger span {
      width: 100%;
      height: 3px;
      background-color: #333;
      margin: 2px 0;
      transition: 0.3s;
    }
    
    .cubfirst-hamburger.is-active span:nth-child(1) {
      transform: rotate(-45deg) translate(-5px, 6px);
    }
    
    .cubfirst-hamburger.is-active span:nth-child(2) {
      opacity: 0;
    }
    
    .cubfirst-hamburger.is-active span:nth-child(3) {
      transform: rotate(45deg) translate(-5px, -6px);
    }
  `,document.head.appendChild(e)};function $(e,n){if(!x("modal",n,["trigger"]))return;let t=e.querySelector(".modal-content");if(!t){console.error("cubFirst: Modal n\xE9cessite un \xE9l\xE9ment .modal-content");return}e.classList.add("cubfirst-modal"),t.classList.add("cubfirst-modal-content");let r=document.createElement("button");r.textContent="\xD7",r.className="cubfirst-modal-close";let o=()=>{e.style.display="flex",document.body.style.overflow="hidden",e.dispatchEvent(new CustomEvent("modalOpen"))},a=()=>{e.style.display="none",document.body.style.overflow="auto",e.dispatchEvent(new CustomEvent("modalClose"))};r.onclick=a,t.appendChild(r);let i=document.querySelector(n.trigger);i&&i.addEventListener("click",o),e.addEventListener("click",c=>{c.target===e&&a()});let s=c=>{c.key==="Escape"&&e.style.display==="flex"&&a()};document.addEventListener("keydown",s);let l={open:o,close:a,isOpen:()=>e.style.display==="flex",setContent:c=>{let d=t.querySelector(":not(.cubfirst-modal-close)");d&&(d.innerHTML=c)}};e.modalAPI=l,p.register(e,()=>{document.removeEventListener("keydown",s),delete e.modalAPI}),e.style.display="none"}function N(e){var l;e.classList.add("cubfirst-tabs");let n=e.querySelectorAll("[data-tab]"),t=e.querySelectorAll(".tab-content"),r=0;n.forEach(c=>c.classList.add("tab-title"));let o=c=>{let d=Array.from(n).findIndex(u=>u.dataset.tab===c);d!==-1&&(r=d),n.forEach(u=>u.classList.toggle("active",u.dataset.tab===c)),t.forEach(u=>{let m=u;m.style.display=m.dataset.tab===c?"block":"none"}),e.dispatchEvent(new CustomEvent("tabChange",{detail:{activeTab:c,tabIndex:r}}))},a=()=>{n=e.querySelectorAll("[data-tab]"),t=e.querySelectorAll(".tab-content"),n.forEach(c=>c.classList.add("tab-title"))};n.forEach(c=>c.addEventListener("click",()=>o(c.dataset.tab)));let i={goTo:c=>{var u;let d=(u=n[c])==null?void 0:u.dataset.tab;d&&o(d)},goToTab:c=>o(c),getCurrentTab:()=>r,getTotalTabs:()=>n.length,addTab:(c,d,u)=>{var b;let m=document.createElement("div");m.setAttribute("data-tab",c),m.className="tab-title",m.textContent=d;let g=document.createElement("div");g.setAttribute("data-tab",c),g.className="tab-content",g.innerHTML=u,(b=e.querySelector(".tab-nav"))==null||b.appendChild(m),e.appendChild(g),a(),m.addEventListener("click",()=>o(c))},refresh:a};e.tabsAPI=i,p.register(e,()=>{delete e.tabsAPI});let s=(l=n[0])==null?void 0:l.dataset.tab;s&&o(s)}function D(e){let n=Array.from(e.querySelectorAll(".accordion-item")),t=-1,r=a=>{let i=n[a];if(!i)return;let s=i.querySelector(".accordion-content");if(!s)return;let l=s.style.display==="block";n.forEach((c,d)=>{let u=c.querySelector(".accordion-content");u&&(u.style.display="none")}),l?t=-1:(s.style.display="block",t=a),e.dispatchEvent(new CustomEvent("accordionToggle",{detail:{openIndex:t,totalItems:n.length}}))};n.forEach((a,i)=>{let s=a.querySelector(".accordion-header"),l=a.querySelector(".accordion-content");!s||!l||(l.style.display="none",s.addEventListener("click",()=>r(i)))});let o={open:a=>{if(a>=0&&a<n.length){let i=n[a].querySelector(".accordion-content");i&&(n.forEach(s=>{let l=s.querySelector(".accordion-content");l&&(l.style.display="none")}),i.style.display="block",t=a)}},close:a=>{if(a>=0&&a<n.length){let i=n[a].querySelector(".accordion-content");i&&(i.style.display="none",t===a&&(t=-1))}},toggle:a=>r(a),closeAll:()=>{n.forEach(a=>{let i=a.querySelector(".accordion-content");i&&(i.style.display="none")}),t=-1},getOpenIndex:()=>t,getTotalItems:()=>n.length,refresh:()=>{n=Array.from(e.querySelectorAll(".accordion-item"))}};e.accordionAPI=o,p.register(e,()=>{delete e.accordionAPI})}function F(e,n){if(!x("tooltip",n,["text"]))return;let t=document.createElement("div");t.textContent=n.text,t.className="cubfirst-tooltip",Object.assign(t.style,{position:"absolute",pointerEvents:"none",zIndex:"1000",display:"none",backgroundColor:"black",color:"white",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",whiteSpace:"nowrap"}),document.body.appendChild(t);let r=()=>{t.style.display="block";let i=e.getBoundingClientRect();t.style.left=`${i.left+window.scrollX}px`,t.style.top=`${i.top+window.scrollY-t.offsetHeight-8}px`},o=()=>{t.style.display="none"};e.addEventListener("mouseenter",r),e.addEventListener("mouseleave",o);let a={show:r,hide:o,setText:i=>{t.textContent=i},setPosition:i=>{t.position=i},isVisible:()=>t.style.display==="block"};e.tooltipAPI=a,p.register(e,()=>{t.remove(),delete e.tooltipAPI})}function I(e,n){let t=n.message,r=n.type||"info",o=n.duration||3e3,a=!1,i=null;e.classList.add("cubfirst-toast",`toast-${r}`),e.textContent=t,e.style.display="none";let s=()=>{a||(a=!0,e.style.display="block",e.dispatchEvent(new CustomEvent("toastShow")),o>0&&(i=setTimeout(()=>{l()},o)))},l=()=>{a&&(a=!1,e.style.display="none",i&&(clearTimeout(i),i=null),e.dispatchEvent(new CustomEvent("toastHide")))},c={show:s,hide:l,toggle:()=>a?l():s(),isVisible:()=>a,setMessage:d=>{t=d,e.textContent=d},setType:d=>{e.classList.remove(`toast-${r}`),r=d,e.classList.add(`toast-${d}`)},setDuration:d=>{o=d},update:(d,u,m)=>{d&&c.setMessage(d),u&&c.setType(u),m!==void 0&&c.setDuration(m)}};e.toastAPI=c,p.register(e,()=>{i&&clearTimeout(i),delete e.toastAPI}),n.message&&s()}function z(e,n){x("contact-form",n,["endpoint"])&&e.addEventListener("submit",t=>M(this,null,function*(){t.preventDefault();let r=e.querySelector('button[type="submit"]'),o=(r==null?void 0:r.textContent)||"Envoyer";r&&(r.disabled=!0,r.textContent="Envoi...");let a={};new FormData(e).forEach((i,s)=>a[s]=i.toString());try{let i=yield fetch(n.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(i.ok)alert("Message envoy\xE9 avec succ\xE8s !"),e.reset();else throw new Error(`Erreur HTTP: ${i.status}`)}catch(i){console.error("Erreur:",i),alert("Erreur lors de l'envoi du message")}finally{r&&(r.disabled=!1,r.textContent=o)}}))}function j(e,n){if(!x("copy",n,["target"]))return;let t=document.querySelector(n.target);if(!t){console.error(`cubFirst: \xC9l\xE9ment cible "${n.target}" introuvable pour le plugin copy`);return}let r=e.textContent||"Copier",o="",a=s=>M(this,null,function*(){let l=s||(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement?t.value:t.textContent||"");try{return yield navigator.clipboard.writeText(l),o=l,e.textContent="Copi\xE9 !",setTimeout(()=>e.textContent=r,2e3),e.dispatchEvent(new CustomEvent("copySuccess",{detail:{text:l}})),!0}catch(c){let d=document.createElement("textarea");return d.value=l,document.body.appendChild(d),d.select(),document.execCommand("copy"),document.body.removeChild(d),o=l,e.textContent="Copi\xE9 !",setTimeout(()=>e.textContent=r,2e3),e.dispatchEvent(new CustomEvent("copySuccess",{detail:{text:l}})),!0}});e.addEventListener("click",()=>a());let i={copy:a,setText:s=>a(s),setTarget:s=>{let l=document.querySelector(s);l&&(t=l,n.target=s)},getLastCopied:()=>o,getTargetText:()=>t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement?t.value:t.textContent||""};e.copyAPI=i,p.register(e,()=>{delete e.copyAPI})}function B(e,n){let t=document.querySelector(n.target);if(!t)return;let r=t.style.display!=="none"&&!t.hasAttribute("hidden"),o=()=>{r||(t.style.display="",t.removeAttribute("hidden"),r=!0,e.dispatchEvent(new CustomEvent("toggleShow",{detail:{target:n.target}})))},a=()=>{r&&(t.style.display="none",t.setAttribute("hidden","true"),r=!1,e.dispatchEvent(new CustomEvent("toggleHide",{detail:{target:n.target}})))},i=()=>{r?a():o()};e.addEventListener("click",i);let s={show:o,hide:a,toggle:i,isVisible:()=>r,setTarget:l=>{let c=document.querySelector(l);c&&(n.target=l,r=c.style.display!=="none"&&!c.hasAttribute("hidden"))}};e.toggleAPI=s,p.register(e,()=>{delete e.toggleAPI})}function R(e,n){let t=document.querySelector(n.target);if(!t)return;let r=n.offset||0,o=n.behavior||"smooth",a=s=>{let l=s?document.querySelector(s):t;if(!l)return;let c=l.getBoundingClientRect().top+window.scrollY-r;window.scrollTo({top:c,behavior:o}),e.dispatchEvent(new CustomEvent("scrollToComplete",{detail:{target:s||n.target,offset:r}}))};e.addEventListener("click",s=>{s.preventDefault(),a()});let i={scrollTo:s=>a(s),setTarget:s=>{let l=document.querySelector(s);l&&(t=l,n.target=s)},setOffset:s=>{r=s},setBehavior:s=>{o=s},getTarget:()=>n.target,getOffset:()=>r};e.scrollToAPI=i,p.register(e,()=>{delete e.scrollToAPI})}function Y(e,n){let t=new Date(n.to);if(isNaN(t.getTime())){e.textContent="Date invalide";return}let r=null,o=!1,a=!1,i=()=>{if(o)return;let m=new Date,g=t.getTime()-m.getTime();if(g<=0){e.textContent="Temps \xE9coul\xE9",a=!0,r&&clearInterval(r),e.dispatchEvent(new CustomEvent("countdownFinished"));return}let b=Math.floor(g/864e5),h=Math.floor(g/36e5%24),E=Math.floor(g/6e4%60),v=Math.floor(g/1e3%60);e.textContent=`${b}j ${h}h ${E}m ${v}s`,e.dispatchEvent(new CustomEvent("countdownTick",{detail:{days:b,hours:h,minutes:E,seconds:v,remaining:g}}))},s=()=>{r||a||(r=setInterval(i,1e3),i())},u={start:s,pause:()=>{o=!0},resume:()=>{o=!1},reset:()=>{r&&(clearInterval(r),r=null),o=!1,a=!1,i()},setTarget:m=>{let g=new Date(m);isNaN(g.getTime())||(t=g,a=!1,i())},getTarget:()=>t.toISOString(),isPaused:()=>o,isFinished:()=>a,getRemaining:()=>{let m=t.getTime()-new Date().getTime();return Math.max(0,m)}};e.countdownAPI=u,s(),p.register(e,()=>{r&&clearInterval(r),delete e.countdownAPI})}function J(e){let n=localStorage.getItem("darkMode")==="true";n&&document.documentElement.classList.add("dark-mode");let t=()=>{n=!n,document.documentElement.classList.toggle("dark-mode",n),localStorage.setItem("darkMode",n.toString()),e.dispatchEvent(new CustomEvent("darkModeToggle",{detail:{isDark:n}}))},r=a=>{n=a,document.documentElement.classList.toggle("dark-mode",n),localStorage.setItem("darkMode",n.toString()),e.dispatchEvent(new CustomEvent("darkModeChange",{detail:{isDark:n}}))};e.addEventListener("click",t);let o={toggle:t,setMode:r,getMode:()=>n,isEnabled:()=>n,enable:()=>r(!0),disable:()=>r(!1)};e.darkModeAPI=o,p.register(e,()=>{delete e.darkModeAPI})}function V(e,n){let t=n.message||"\xCAtes-vous s\xFBr ?",r=null,o=null,a=s=>{let l=s||t,c=confirm(l);return c?(r==null||r(),e.dispatchEvent(new CustomEvent("confirmAccept",{detail:{message:l}}))):(o==null||o(),e.dispatchEvent(new CustomEvent("confirmCancel",{detail:{message:l}}))),c};e.addEventListener("click",s=>{a()||s.preventDefault()});let i={show:a,setMessage:s=>{t=s},onConfirm:s=>{r=s},onCancel:s=>{o=s},getMessage:()=>t};e.confirmAPI=i,p.register(e,()=>{delete e.confirmAPI})}function X(e,n){let t=document.querySelector(n.trigger),r=e.querySelector(".dropdown-menu");if(!t||!r)return;r.classList.add("cubfirst-dropdown-menu"),r.setAttribute("hidden","true");let o=!1,a=()=>{o||(document.querySelectorAll(".cubfirst-dropdown-menu").forEach(c=>c.setAttribute("hidden","true")),r.removeAttribute("hidden"),o=!0,e.dispatchEvent(new CustomEvent("dropdownOpen")))},i=()=>{o&&(r.setAttribute("hidden","true"),o=!1,e.dispatchEvent(new CustomEvent("dropdownClose")))},s=()=>{o?i():a()};t.addEventListener("click",c=>{c.stopPropagation(),s()}),document.addEventListener("click",c=>{e.contains(c.target)||i()});let l={open:a,close:i,toggle:s,isOpen:()=>o,setItems:c=>{r.innerHTML="",c.forEach(d=>{let u=document.createElement("div");u.className="dropdown-item",u.textContent=d.text,u.dataset.value=d.value,d.onClick&&u.addEventListener("click",d.onClick),r.appendChild(u)})}};e.dropdownAPI=l,p.register(e,()=>{delete e.dropdownAPI})}function U(e,n){var E,v;let t=Array.from(e.querySelectorAll(".carousel-slide"));if(t.length===0)return;e.classList.add("cubfirst-carousel");let r=0,o=null,a=k({},n),i=document.createElement("div");i.className="cubfirst-carousel-bullets",i.style.cssText="display: flex; justify-content: center; gap: 8px; margin-top: 8px;";let s=[],l=()=>{i.innerHTML="",s=t.map((f,w)=>{let y=document.createElement("button");return y.style.cssText="width: 12px; height: 12px; border-radius: 50%; border: none; background-color: #d1d5db; cursor: pointer;",y.addEventListener("click",()=>{b.goTo(w)}),i.appendChild(y),y})},c=f=>{f<0||f>=t.length||(r=f,t.forEach((w,y)=>{w.classList.toggle("active",y===f),s[y]&&(s[y].style.backgroundColor=y===f?"#3b82f6":"#d1d5db")}),e.dispatchEvent(new CustomEvent("carouselChange",{detail:{currentSlide:r,totalSlides:t.length}})))},d=()=>{r=(r+1)%t.length,c(r)},u=()=>{r=(r-1+t.length)%t.length,c(r)},m=()=>{o&&clearInterval(o);let f=a.interval||0;f>0&&(o=setInterval(d,f))},g=()=>{t=Array.from(e.querySelectorAll(".carousel-slide")),l(),r>=t.length&&(r=Math.max(0,t.length-1)),c(r)},b={next:()=>{d(),m()},prev:()=>{u(),m()},goTo:f=>{f>=0&&f<t.length&&(c(f),m())},play:()=>{m()},pause:()=>{o&&(clearInterval(o),o=null)},setSpeed:f=>{a.interval=f,m()},refresh:g,getCurrentSlide:()=>r,getTotalSlides:()=>t.length,isPlaying:()=>o!==null};e.carouselAPI=b,(E=e.querySelector('[data-carousel="next"]'))==null||E.addEventListener("click",b.next),(v=e.querySelector('[data-carousel="prev"]'))==null||v.addEventListener("click",b.prev),l(),e.appendChild(i),c(r),m();let h=new MutationObserver(()=>{Array.from(e.querySelectorAll(".carousel-slide")).length!==t.length&&g()});h.observe(e,{childList:!0,subtree:!0}),p.register(e,()=>{o&&clearInterval(o),h.disconnect(),delete e.carouselAPI})}function W(e,n){e.style.opacity="0",e.style.transition="opacity 0.6s ease";let t=new IntersectionObserver(r=>{r.forEach(o=>{o.isIntersecting&&(e.style.opacity="1",e.classList.add(`cubfirst-reveal-${n.animation||"fade"}`),t.disconnect())})},{threshold:.1});t.observe(e)}function _(e,n){n.type==="phone"&&(e.setAttribute("maxlength","14"),e.addEventListener("input",()=>{let t=e.value.replace(/\D/g,"");t.length>=10?e.value=t.replace(/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/,"$1 $2 $3 $4 $5"):e.value=t})),n.type==="date"&&(e.setAttribute("placeholder","JJ/MM/AAAA"),e.setAttribute("maxlength","10"),e.addEventListener("input",()=>{let t=e.value.replace(/\D/g,"");t.length>=8?e.value=t.replace(/(\d{2})(\d{2})(\d{4})/,"$1/$2/$3"):t.length>=4?e.value=t.replace(/(\d{2})(\d{2})/,"$1/$2"):e.value=t}))}function G(e){let n=()=>{let t=window.scrollY,r=document.documentElement.scrollHeight-window.innerHeight,o=Math.min(100,Math.max(0,t/r*100));e.style.width=`${o}%`};Object.assign(e.style,{position:"fixed",top:"0",left:"0",height:"4px",backgroundColor:"#3b82f6",zIndex:"9999",width:"0%",transition:"width 0.1s ease"}),window.addEventListener("scroll",n),n()}function K(e,n){if(e.className="cubfirst-card",e.style.cssText="border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); padding: 1rem; background: white; display: flex; flex-direction: column; gap: 0.5rem;",n.image){let t=document.createElement("img");t.src=n.image,t.alt=n.title||"",t.style.cssText="border-radius: 6px; width: 100%; object-fit: cover;",e.appendChild(t)}if(n.title){let t=document.createElement("h3");t.textContent=n.title,t.style.cssText="font-size: 1.25rem; font-weight: bold; margin: 0;",e.appendChild(t)}if(n.content){let t=document.createElement("p");t.textContent=n.content,t.style.cssText="font-size: 0.875rem; color: #6b7280; margin: 0;",e.appendChild(t)}if(n.footer){let t=document.createElement("div");t.textContent=n.footer,t.style.cssText="font-size: 0.75rem; color: #9ca3af; padding-top: 0.5rem; border-top: 1px solid #e5e7eb;",e.appendChild(t)}}function Q(e,n){let t=n.value||0,r=n.max||5,o=n.readonly||!1;e.classList.add("cubfirst-rating");let a=()=>{e.innerHTML="";for(let s=1;s<=r;s++){let l=document.createElement("span");l.textContent="\u2605",l.dataset.value=s.toString(),l.style.cursor=o?"default":"pointer",l.style.color=s<=t?"#fbbf24":"#d1d5db",o||l.addEventListener("click",()=>{t=s,a(),e.dispatchEvent(new CustomEvent("ratingChanged",{detail:{rating:s}}))}),e.appendChild(l)}},i={setValue:s=>{s>=0&&s<=r&&(t=s,a(),e.dispatchEvent(new CustomEvent("ratingChanged",{detail:{rating:s}})))},getValue:()=>t,setMax:s=>{s>0&&(r=s,t>r&&(t=r),a())},getMax:()=>r,setReadonly:s=>{o=s,a()},isReadonly:()=>o};e.ratingAPI=i,p.register(e,()=>{delete e.ratingAPI}),a()}function Z(e,n){let t=Array.from(document.querySelectorAll(n.target)),r=0,o=n.batch||3,a=()=>{t.slice(r,r+o).forEach(s=>{s.style.display="",s.removeAttribute("hidden")}),r+=o,r>=t.length&&(e.style.display="none")};t.forEach((i,s)=>{s>=o&&(i.style.display="none",i.setAttribute("hidden","true"))}),e.addEventListener("click",a),a(),r=o}function ee(e,n){let t=document.querySelector(n.target);if(!t)return;if(!e.querySelector("span")){e.className="cubfirst-hamburger";for(let o=0;o<3;o++){let a=document.createElement("span");e.appendChild(a)}}let r=()=>{t.style.display==="none"||t.hasAttribute("hidden")?(t.style.display="",t.removeAttribute("hidden")):(t.style.display="none",t.setAttribute("hidden","true")),e.classList.toggle("is-active")};e.addEventListener("click",o=>{o.stopPropagation(),r()}),document.addEventListener("click",o=>{!t.contains(o.target)&&!e.contains(o.target)&&(t.style.display="none",t.setAttribute("hidden","true"),e.classList.remove("is-active"))})}function te(e,n){let t=document.querySelectorAll(n.target);e.addEventListener("click",()=>{t.forEach(r=>{(r.dataset.tag||"").includes(n.value)||n.value==="all"?(r.style.display="",r.removeAttribute("hidden")):(r.style.display="none",r.setAttribute("hidden","true"))})})}function ne(e){e.style.transition="all 0.3s ease",e.style.cursor="pointer",e.addEventListener("click",()=>{e.classList.toggle("cubfirst-grid-expanded")?Object.assign(e.style,{transform:"scale(1.05)",zIndex:"10",position:"relative",boxShadow:"0 10px 20px rgba(0,0,0,0.2)"}):Object.assign(e.style,{transform:"scale(1)",zIndex:"",position:"",boxShadow:""})})}function re(e,n){if(!n.image&&!n.text)return;let t=document.createElement("div");if(t.className="cubfirst-hover-preview",Object.assign(t.style,{position:"fixed",zIndex:"50",display:"none",pointerEvents:"none",background:"#fff",border:"1px solid #ccc",padding:"6px",borderRadius:"6px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",maxWidth:"250px"}),n.image){let s=document.createElement("img");s.src=n.image,s.style.cssText="max-width: 200px; width: 100%; height: auto; display: block;",t.appendChild(s)}if(n.text){let s=document.createElement("p");s.textContent=n.text,s.style.cssText="margin: 4px 0 0 0; font-size: 14px; color: #333;",t.appendChild(s)}document.body.appendChild(t);let r=()=>{t.style.display="block"},o=()=>{t.style.display="none"},a=s=>{let l=s.pageX+16,c=s.pageY+16,d=t.getBoundingClientRect(),u=window.innerWidth-d.width-20,m=window.innerHeight-d.height-20;t.style.left=`${Math.min(l,u)}px`,t.style.top=`${Math.min(c,m)}px`};e.addEventListener("mouseenter",r),e.addEventListener("mouseleave",o),e.addEventListener("mousemove",a);let i=new MutationObserver(()=>{document.contains(e)||(t.remove(),i.disconnect())});i.observe(document.body,{childList:!0,subtree:!0})}function se(e){if(!e)return{};try{return JSON.parse(e)}catch(n){return console.warn(`cubFirst: Options JSON invalides "${e}". Utilisation des options par d\xE9faut.`),{}}}function x(e,n,t=[]){for(let r of t)if(!n[r])return console.error(`cubFirst: Option "${r}" requise pour le plugin "${e}"`),!1;return!0}var A=class{constructor(){L(this,"cleanupFunctions",new Map);L(this,"observer");this.observer=new MutationObserver(n=>{n.forEach(t=>{t.removedNodes.forEach(r=>{r.nodeType===Node.ELEMENT_NODE&&this.cleanupElement(r)})})}),this.observer.observe(document.body,{childList:!0,subtree:!0})}register(n,t){this.cleanupFunctions.has(n)||this.cleanupFunctions.set(n,[]),this.cleanupFunctions.get(n).push(t)}cleanupElement(n){let t=this.cleanupFunctions.get(n);t&&(t.forEach(r=>{try{r()}catch(o){console.warn("cubFirst: Erreur lors du nettoyage:",o)}}),this.cleanupFunctions.delete(n)),n.querySelectorAll("[data-plugin]").forEach(r=>{this.cleanupElement(r)})}destroy(){this.observer.disconnect(),this.cleanupFunctions.clear()}},p=new A,oe={init:(e,n,t={})=>{document.querySelectorAll(e).forEach(o=>{o.dataset.plugin=n,o.dataset.options=JSON.stringify(t),H(o,n,t)})},toast:(e,n="info",t=3e3)=>{let r=document.createElement("div");I(r,{message:e,type:n,duration:t})},version:"2.0.0",cleanup:e=>{e?p.cleanupElement(e):p.destroy()},getAPI:(e,n)=>{let t=typeof e=="string"?document.querySelector(e):e;return t?n==="carousel"?t.carouselAPI||null:n==="modal"?t.modalAPI||null:n==="tabs"?t.tabsAPI||null:n==="accordion"?t.accordionAPI||null:n==="rating"?t.ratingAPI||null:n==="dropdown"?t.dropdownAPI||null:n==="toast"?t.toastAPI||null:n==="tooltip"?t.tooltipAPI||null:n==="toggle"?t.toggleAPI||null:n==="copy"?t.copyAPI||null:n==="scrollto"?t.scrollToAPI||null:n==="countdown"?t.countdownAPI||null:n==="darkmode"?t.darkModeAPI||null:n==="confirm"?t.confirmAPI||null:{carousel:t.carouselAPI||null,modal:t.modalAPI||null,tabs:t.tabsAPI||null,accordion:t.accordionAPI||null,rating:t.ratingAPI||null,dropdown:t.dropdownAPI||null,toast:t.toastAPI||null,tooltip:t.tooltipAPI||null,toggle:t.toggleAPI||null,copy:t.copyAPI||null,scrollto:t.scrollToAPI||null,countdown:t.countdownAPI||null,darkmode:t.darkModeAPI||null,confirm:t.confirmAPI||null}:null}};function H(e,n,t){try{switch(n){case"modal":$(e,t);break;case"tabs":N(e);break;case"accordion":D(e);break;case"tooltip":F(e,t);break;case"contact-form":z(e,t);break;case"copy":j(e,t);break;case"toggle":B(e,t);break;case"scrollto":R(e,t);break;case"countdown":Y(e,t);break;case"darkmode-toggle":J(e);break;case"confirm":V(e,t);break;case"dropdown":X(e,t);break;case"carousel":U(e,t);break;case"toast":I(e,t);break;case"reveal":W(e,t);break;case"input-mask":_(e,t);break;case"progress-scroll":G(e);break;case"card":K(e,t);break;case"filter":te(e,t);break;case"grid-expand":ne(e);break;case"hover-preview":re(e,t);break;case"rating":Q(e,t);break;case"load-more":Z(e,t);break;case"hamburger":ee(e,t);break;default:console.warn(`cubFirst: Plugin "${n}" non reconnu`)}}catch(r){console.error(`cubFirst: Erreur sur le plugin "${n}"`,r)}}document.addEventListener("DOMContentLoaded",()=>{O(),document.querySelectorAll("[data-plugin]").forEach(e=>{let n=e.dataset.plugin;if(!n)return;let t=se(e.dataset.options||"{}");H(e,n,t)})});typeof window!="undefined"&&(window.cubFirst=oe,window.getCarousel=e=>{let n=document.querySelector(e);return n?n.carouselAPI:null});})();
