(()=>{var j=Object.defineProperty;var q=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var z=(e,r,t)=>r in e?j(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,N=(e,r)=>{for(var t in r||(r={}))R.call(r,t)&&z(e,t,r[t]);if(q)for(var t of q(r))U.call(r,t)&&z(e,t,r[t]);return e};var $=(e,r,t)=>(z(e,typeof r!="symbol"?r+"":r,t),t);var P=(e,r,t)=>new Promise((i,a)=>{var n=u=>{try{o(t.next(u))}catch(b){a(b)}},c=u=>{try{o(t.throw(u))}catch(b){a(b)}},o=u=>u.done?i(u.value):Promise.resolve(u.value).then(n,c);o((t=t.apply(e,r)).next())});var V=()=>{if(document.getElementById("cubfirst-styles"))return;let e=document.createElement("style");e.id="cubfirst-styles",e.textContent=`
    /* Styles de base - Namespace cubfirst */
    .cubfirst-hidden { display: none !important; }
    .cubfirst-cursor-pointer { cursor: pointer; }
    
    /* Responsive breakpoints */
    :root {
      --cubfirst-mobile: 480px;
      --cubfirst-tablet: 768px;
      --cubfirst-desktop: 1024px;
    }
    
    /* Mobile-first approach */
    @media (max-width: 480px) {
      .cubfirst-mobile-hidden { display: none !important; }
    }
    
    @media (min-width: 481px) and (max-width: 768px) {
      .cubfirst-tablet-hidden { display: none !important; }
    }
    
    @media (min-width: 769px) {
      .cubfirst-desktop-hidden { display: none !important; }
    }
    
    /* Modal */
    .cubfirst-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }
    
    .cubfirst-modal-content {
      background: white;
      padding: 2rem;
      border-radius: 8px;
      max-width: 90%;
      max-height: 90%;
      position: relative;
    }
    
    .cubfirst-modal-close {
      position: absolute;
      top: 10px;
      right: 15px;
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: #666;
    }
    
    /* Tabs */
    .cubfirst-tabs .tab-title {
      padding: 0.5rem 1rem;
      cursor: pointer;
      border-bottom: 2px solid transparent;
    }
    
    .cubfirst-tabs .tab-title.active {
      border-bottom-color: #3b82f6;
      color: #3b82f6;
    }
    
    /* Accordion */
    .accordion-header {
      cursor: pointer;
      padding: 1rem;
      border: 1px solid #e5e7eb;
      background: #f9fafb;
    }
    
    .accordion-content {
      padding: 1rem;
      border: 1px solid #e5e7eb;
      border-top: none;
    }
    
    /* Dropdown */
    .cubfirst-dropdown-menu[hidden] {
      display: none !important;
    }
    
    .cubfirst-dropdown-menu {
      position: absolute;
      background: white;
      border: 1px solid #e5e7eb;
      border-radius: 0.375rem;
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      z-index: 50;
    }
    
    /* Carousel */
    .cubfirst-carousel {
      position: relative;
      overflow: hidden;
    }
    
    .carousel-slide {
      display: none;
    }
    
    .carousel-slide.active {
      display: block;
    }
    
    /* Toast */
    .cubfirst-toast {
      position: fixed;
      bottom: 1rem;
      left: 50%;
      transform: translateX(-50%);
      padding: 1rem 1.5rem;
      border-radius: 0.5rem;
      color: white;
      z-index: 1000;
      transition: opacity 0.5s ease;
    }
    
    .cubfirst-toast.success { background-color: #10b981; }
    .cubfirst-toast.error { background-color: #ef4444; }
    .cubfirst-toast.info { background-color: #6b7280; }
    
    /* Animations */
    .cubfirst-reveal-fade {
      animation: fadeIn 0.6s ease-in-out;
    }
    
    .cubfirst-reveal-slide {
      animation: slideUp 0.6s ease-in-out;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    @keyframes slideUp {
      from { transform: translateY(30px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    
    /* Hamburger */
    .cubfirst-hamburger {
      display: flex;
      flex-direction: column;
      width: 30px;
      height: 20px;
      cursor: pointer;
    }
    
    .cubfirst-hamburger span {
      width: 100%;
      height: 3px;
      background-color: #333;
      margin: 2px 0;
      transition: 0.3s;
    }
    
    .cubfirst-hamburger.is-active span:nth-child(1) {
      transform: rotate(-45deg) translate(-5px, 6px);
    }
    
    .cubfirst-hamburger.is-active span:nth-child(2) {
      opacity: 0;
    }
    
    .cubfirst-hamburger.is-active span:nth-child(3) {
      transform: rotate(45deg) translate(-5px, -6px);
    }
    
    /* Progress Bar */
    .cubfirst-progress {
      width: 100%;
      height: 8px;
      background-color: #e5e7eb;
      border-radius: 4px;
      overflow: hidden;
      position: relative;
    }
    
    .cubfirst-progress-bar {
      height: 100%;
      background: linear-gradient(90deg, #3b82f6, #1d4ed8);
      border-radius: 4px;
      transition: width 0.3s ease;
      position: relative;
    }
    
    .cubfirst-progress-bar::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      animation: shimmer 2s infinite;
    }
    
    @keyframes shimmer {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }
    
    .cubfirst-progress-circle {
      width: 120px;
      height: 120px;
      position: relative;
    }
    
    .cubfirst-progress-circle svg {
      width: 100%;
      height: 100%;
      transform: rotate(-90deg);
    }
    
    .cubfirst-progress-circle .progress-ring {
      fill: none;
      stroke: #e5e7eb;
      stroke-width: 8;
    }
    
    .cubfirst-progress-circle .progress-ring-fill {
      fill: none;
      stroke: #3b82f6;
      stroke-width: 8;
      stroke-linecap: round;
      transition: stroke-dasharray 0.3s ease;
    }
    
    .cubfirst-progress-circle .progress-text {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 1.2rem;
      font-weight: bold;
      color: #374151;
    }
    
    .cubfirst-progress-steps {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .cubfirst-progress-step {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.875rem;
      font-weight: 600;
      transition: all 0.3s ease;
    }
    
    .cubfirst-progress-step.completed {
      background-color: #10b981;
      color: white;
    }
    
    .cubfirst-progress-step.current {
      background-color: #3b82f6;
      color: white;
    }
    
    .cubfirst-progress-step.pending {
      background-color: #e5e7eb;
      color: #6b7280;
    }
    
    .cubfirst-progress-step::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 100%;
      width: 8px;
      height: 2px;
      background-color: #e5e7eb;
      transform: translateY(-50%);
    }
    
    .cubfirst-progress-step:last-child::after {
      display: none;
    }
    
    .cubfirst-progress-step.completed::after {
      background-color: #10b981;
    }
    
    /* File Upload */
    .cubfirst-file-upload {
      border: 2px dashed #d1d5db;
      border-radius: 8px;
      padding: 2rem;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    
    .cubfirst-file-upload:hover {
      border-color: #3b82f6;
      background-color: #f8fafc;
    }
    
    .cubfirst-file-upload.dragover {
      border-color: #10b981;
      background-color: #f0fdf4;
    }
    
    .cubfirst-file-upload input[type="file"] {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      opacity: 0;
      cursor: pointer;
    }
    
    .cubfirst-file-upload-icon {
      font-size: 3rem;
      color: #9ca3af;
      margin-bottom: 1rem;
    }
    
    .cubfirst-file-upload-text {
      font-size: 1.125rem;
      color: #374151;
      margin-bottom: 0.5rem;
    }
    
    .cubfirst-file-upload-hint {
      font-size: 0.875rem;
      color: #6b7280;
    }
    
    .cubfirst-file-list {
      margin-top: 1rem;
    }
    
    .cubfirst-file-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0.75rem;
      background: #f9fafb;
      border: 1px solid #e5e7eb;
      border-radius: 6px;
      margin-bottom: 0.5rem;
    }
    
    .cubfirst-file-item-info {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }
    
    .cubfirst-file-item-icon {
      width: 2rem;
      height: 2rem;
      background: #3b82f6;
      border-radius: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 0.875rem;
    }
    
    .cubfirst-file-item-details {
      flex: 1;
    }
    
    .cubfirst-file-item-name {
      font-weight: 500;
      color: #374151;
    }
    
    .cubfirst-file-item-size {
      font-size: 0.875rem;
      color: #6b7280;
    }
    
    .cubfirst-file-item-remove {
      background: none;
      border: none;
      color: #ef4444;
      cursor: pointer;
      padding: 0.25rem;
      border-radius: 4px;
    }
    
    .cubfirst-file-item-remove:hover {
      background: #fef2f2;
    }
    
    .cubfirst-file-progress {
      width: 100%;
      height: 4px;
      background: #e5e7eb;
      border-radius: 2px;
      overflow: hidden;
      margin-top: 0.5rem;
    }
    
    .cubfirst-file-progress-bar {
      height: 100%;
      background: #3b82f6;
      transition: width 0.3s ease;
    }
    
    /* Date Picker */
    .cubfirst-date-picker {
      position: relative;
    }
    
    .cubfirst-date-picker input {
      width: 100%;
      padding: 0.75rem;
      border: 1px solid #d1d5db;
      border-radius: 6px;
      font-size: 1rem;
    }
    
    .cubfirst-date-picker input:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }
    
    .cubfirst-date-picker-calendar {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: white;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      z-index: 50;
      padding: 1rem;
      margin-top: 0.25rem;
    }
    
    .cubfirst-date-picker-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 1rem;
    }
    
    .cubfirst-date-picker-nav {
      background: none;
      border: none;
      cursor: pointer;
      padding: 0.5rem;
      border-radius: 4px;
    }
    
    .cubfirst-date-picker-nav:hover {
      background: #f3f4f6;
    }
    
    .cubfirst-date-picker-month {
      font-weight: 600;
      color: #374151;
    }
    
    .cubfirst-date-picker-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 0.25rem;
    }
    
    .cubfirst-date-picker-day {
      padding: 0.5rem;
      text-align: center;
      cursor: pointer;
      border-radius: 4px;
      font-size: 0.875rem;
    }
    
    .cubfirst-date-picker-day:hover {
      background: #f3f4f6;
    }
    
    .cubfirst-date-picker-day.selected {
      background: #3b82f6;
      color: white;
    }
    
    .cubfirst-date-picker-day.other-month {
      color: #9ca3af;
    }
    
    .cubfirst-date-picker-day.today {
      font-weight: 600;
    }
    
    /* Color Picker */
    .cubfirst-color-picker {
      position: relative;
      display: inline-block;
    }
    
    .cubfirst-color-picker-input {
      width: 3rem;
      height: 3rem;
      border: 2px solid #d1d5db;
      border-radius: 6px;
      cursor: pointer;
      background: none;
    }
    
    .cubfirst-color-picker-palette {
      position: absolute;
      top: 100%;
      left: 0;
      background: white;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      z-index: 50;
      padding: 1rem;
      margin-top: 0.25rem;
      display: grid;
      grid-template-columns: repeat(8, 1fr);
      gap: 0.5rem;
    }
    
    .cubfirst-color-picker-color {
      width: 2rem;
      height: 2rem;
      border-radius: 4px;
      cursor: pointer;
      border: 2px solid transparent;
      transition: all 0.2s ease;
    }
    
    .cubfirst-color-picker-color:hover {
      transform: scale(1.1);
    }
    
    .cubfirst-color-picker-color.selected {
      border-color: #374151;
    }
    
    /* Slider */
    .cubfirst-slider {
      position: relative;
      width: 100%;
      height: 6px;
      background: #e5e7eb;
      border-radius: 3px;
      cursor: pointer;
    }
    
    .cubfirst-slider-track {
      height: 100%;
      background: #3b82f6;
      border-radius: 3px;
      position: relative;
    }
    
    .cubfirst-slider-thumb {
      position: absolute;
      top: 50%;
      right: 0;
      width: 20px;
      height: 20px;
      background: white;
      border: 2px solid #3b82f6;
      border-radius: 50%;
      transform: translate(50%, -50%);
      cursor: grab;
    }
    
    .cubfirst-slider-thumb:active {
      cursor: grabbing;
    }
    
    .cubfirst-slider-thumb:hover {
      transform: translate(50%, -50%) scale(1.1);
    }
    
    .cubfirst-slider-value {
      position: absolute;
      top: -2rem;
      left: 50%;
      transform: translateX(-50%);
      background: #374151;
      color: white;
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
      font-size: 0.875rem;
      white-space: nowrap;
    }
    
    /* Switch */
    .cubfirst-switch {
      position: relative;
      display: inline-block;
      width: 3rem;
      height: 1.5rem;
    }
    
    .cubfirst-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }
    
    .cubfirst-switch-slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #d1d5db;
      transition: 0.3s;
      border-radius: 1.5rem;
    }
    
    .cubfirst-switch-slider:before {
      position: absolute;
      content: "";
      height: 1.25rem;
      width: 1.25rem;
      left: 0.125rem;
      bottom: 0.125rem;
      background-color: white;
      transition: 0.3s;
      border-radius: 50%;
    }
    
    .cubfirst-switch input:checked + .cubfirst-switch-slider {
      background-color: #3b82f6;
    }
    
    .cubfirst-switch input:checked + .cubfirst-switch-slider:before {
      transform: translateX(1.5rem);
    }
    
    .cubfirst-switch input:focus + .cubfirst-switch-slider {
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }
    
    /* Breadcrumb */
    .cubfirst-breadcrumb {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.875rem;
    }
    
    .cubfirst-breadcrumb-item {
      color: #6b7280;
      text-decoration: none;
    }
    
    .cubfirst-breadcrumb-item:hover {
      color: #374151;
    }
    
    .cubfirst-breadcrumb-item.active {
      color: #374151;
      font-weight: 500;
    }
    
    .cubfirst-breadcrumb-separator {
      color: #9ca3af;
    }
    
    /* Pagination */
    .cubfirst-pagination {
      display: flex;
      align-items: center;
      gap: 0.25rem;
    }
    
    .cubfirst-pagination-button {
      padding: 0.5rem 0.75rem;
      border: 1px solid #d1d5db;
      background: white;
      color: #374151;
      text-decoration: none;
      border-radius: 4px;
      transition: all 0.2s ease;
    }
    
    .cubfirst-pagination-button:hover {
      background: #f9fafb;
      border-color: #9ca3af;
    }
    
    .cubfirst-pagination-button.active {
      background: #3b82f6;
      border-color: #3b82f6;
      color: white;
    }
    
    .cubfirst-pagination-button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    
    .cubfirst-pagination-ellipsis {
      padding: 0.5rem;
      color: #6b7280;
    }
    
    /* Sidebar */
    .cubfirst-sidebar {
      position: fixed;
      top: 0;
      left: -300px;
      width: 300px;
      height: 100vh;
      background: white;
      border-right: 1px solid #e5e7eb;
      transition: left 0.3s ease;
      z-index: 50;
      overflow-y: auto;
    }
    
    .cubfirst-sidebar.open {
      left: 0;
    }
    
    .cubfirst-sidebar-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 40;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }
    
    .cubfirst-sidebar-overlay.show {
      opacity: 1;
      visibility: visible;
    }
    
    .cubfirst-sidebar-header {
      padding: 1rem;
      border-bottom: 1px solid #e5e7eb;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    
    .cubfirst-sidebar-close {
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      color: #6b7280;
    }
    
    .cubfirst-sidebar-content {
      padding: 1rem;
    }
    
    /* Sticky */
    .cubfirst-sticky {
      position: sticky;
      z-index: 10;
    }
    
    /* Alert */
    .cubfirst-alert {
      padding: 1rem;
      border-radius: 6px;
      margin-bottom: 1rem;
      display: flex;
      align-items: flex-start;
      gap: 0.75rem;
    }
    
    .cubfirst-alert.success {
      background: #f0fdf4;
      border: 1px solid #bbf7d0;
      color: #166534;
    }
    
    .cubfirst-alert.error {
      background: #fef2f2;
      border: 1px solid #fecaca;
      color: #991b1b;
    }
    
    .cubfirst-alert.warning {
      background: #fffbeb;
      border: 1px solid #fed7aa;
      color: #92400e;
    }
    
    .cubfirst-alert.info {
      background: #eff6ff;
      border: 1px solid #bfdbfe;
      color: #1e40af;
    }
    
    .cubfirst-alert-icon {
      font-size: 1.25rem;
      flex-shrink: 0;
    }
    
    .cubfirst-alert-content {
      flex: 1;
    }
    
    .cubfirst-alert-title {
      font-weight: 600;
      margin-bottom: 0.25rem;
    }
    
    .cubfirst-alert-message {
      font-size: 0.875rem;
    }
    
    .cubfirst-alert-close {
      background: none;
      border: none;
      font-size: 1.25rem;
      cursor: pointer;
      color: inherit;
      opacity: 0.7;
    }
    
    .cubfirst-alert-close:hover {
      opacity: 1;
    }
    
    /* Skeleton */
    .cubfirst-skeleton {
      background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
      background-size: 200% 100%;
      animation: loading 1.5s infinite;
    }
    
    @keyframes loading {
      0% { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }
    
    .cubfirst-skeleton-line {
      height: 1rem;
      border-radius: 4px;
      margin-bottom: 0.5rem;
    }
    
    .cubfirst-skeleton-circle {
      width: 3rem;
      height: 3rem;
      border-radius: 50%;
    }
    
    .cubfirst-skeleton-rect {
      height: 8rem;
      border-radius: 6px;
    }
    
    /* Lazy Loading */
    .cubfirst-lazy-load {
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .cubfirst-lazy-load.loaded {
      opacity: 1;
    }
    
    /* Search */
    .cubfirst-search {
      position: relative;
    }
    
    .cubfirst-search-input {
      width: 100%;
      padding: 0.75rem 2.5rem 0.75rem 0.75rem;
      border: 1px solid #d1d5db;
      border-radius: 6px;
      font-size: 1rem;
    }
    
    .cubfirst-search-input:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }
    
    .cubfirst-search-button {
      position: absolute;
      right: 0.5rem;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      cursor: pointer;
      padding: 0.5rem;
      color: #6b7280;
    }
    
    .cubfirst-search-results {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: white;
      border: 1px solid #e5e7eb;
      border-radius: 6px;
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      z-index: 50;
      margin-top: 0.25rem;
      max-height: 300px;
      overflow-y: auto;
    }
    
    .cubfirst-search-result {
      padding: 0.75rem;
      cursor: pointer;
      border-bottom: 1px solid #f3f4f6;
    }
    
    .cubfirst-search-result:hover {
      background: #f9fafb;
    }
    
    .cubfirst-search-result:last-child {
      border-bottom: none;
    }
    
    .cubfirst-search-highlight {
      background: #fef3c7;
      padding: 0.125rem 0.25rem;
      border-radius: 2px;
    }
    
    /* Autocomplete */
    .cubfirst-autocomplete {
      position: relative;
    }
    
    .cubfirst-autocomplete-input {
      width: 100%;
      padding: 0.75rem;
      border: 1px solid #d1d5db;
      border-radius: 6px;
      font-size: 1rem;
    }
    
    .cubfirst-autocomplete-input:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }
    
    .cubfirst-autocomplete-dropdown {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: white;
      border: 1px solid #e5e7eb;
      border-radius: 6px;
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      z-index: 50;
      margin-top: 0.25rem;
      max-height: 200px;
      overflow-y: auto;
    }
    
    .cubfirst-autocomplete-item {
      padding: 0.75rem;
      cursor: pointer;
      border-bottom: 1px solid #f3f4f6;
    }
    
    .cubfirst-autocomplete-item:hover {
      background: #f9fafb;
    }
    
    .cubfirst-autocomplete-item:last-child {
      border-bottom: none;
    }
    
    .cubfirst-autocomplete-item.selected {
      background: #eff6ff;
    }
    
    /* Swipe */
    .cubfirst-swipe {
      position: relative;
      overflow: hidden;
      touch-action: pan-y;
    }
    
    .cubfirst-swipe-container {
      display: flex;
      transition: transform 0.3s ease;
    }
    
    .cubfirst-swipe-item {
      flex: 0 0 100%;
      width: 100%;
    }
    
    .cubfirst-swipe-indicators {
      position: absolute;
      bottom: 1rem;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 0.5rem;
    }
    
    .cubfirst-swipe-indicator {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.5);
      cursor: pointer;
      transition: background 0.3s ease;
    }
    
    .cubfirst-swipe-indicator.active {
      background: white;
    }
    
    /* Data Table */
    .cubfirst-data-table {
      width: 100%;
      border-collapse: collapse;
      background: white;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }
    
    .cubfirst-data-table th {
      background: #f8fafc;
      padding: 1rem;
      text-align: left;
      font-weight: 600;
      color: #374151;
      border-bottom: 1px solid #e5e7eb;
      cursor: pointer;
      user-select: none;
      position: relative;
    }
    
    .cubfirst-data-table th:hover {
      background: #f1f5f9;
    }
    
    .cubfirst-data-table th.sortable::after {
      content: '\u2195';
      position: absolute;
      right: 0.5rem;
      opacity: 0.5;
    }
    
    .cubfirst-data-table th.sort-asc::after {
      content: '\u2191';
      opacity: 1;
    }
    
    .cubfirst-data-table th.sort-desc::after {
      content: '\u2193';
      opacity: 1;
    }
    
    .cubfirst-data-table td {
      padding: 1rem;
      border-bottom: 1px solid #f3f4f6;
      color: #374151;
    }
    
    .cubfirst-data-table tbody tr:hover {
      background: #f9fafb;
    }
    
    .cubfirst-data-table tbody tr.selected {
      background: #eff6ff;
    }
    
    .cubfirst-data-table-container {
      position: relative;
      overflow-x: auto;
    }
    
    .cubfirst-data-table-toolbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem;
      background: #f8fafc;
      border-bottom: 1px solid #e5e7eb;
    }
    
    .cubfirst-data-table-search {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .cubfirst-data-table-search input {
      padding: 0.5rem;
      border: 1px solid #d1d5db;
      border-radius: 4px;
      font-size: 0.875rem;
    }
    
    .cubfirst-data-table-filters {
      display: flex;
      gap: 0.5rem;
      align-items: center;
    }
    
    .cubfirst-data-table-filter {
      padding: 0.5rem;
      border: 1px solid #d1d5db;
      border-radius: 4px;
      background: white;
      font-size: 0.875rem;
    }
    
    .cubfirst-data-table-pagination {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem;
      background: #f8fafc;
      border-top: 1px solid #e5e7eb;
    }
    
    .cubfirst-data-table-info {
      color: #6b7280;
      font-size: 0.875rem;
    }
    
    .cubfirst-data-table-export {
      display: flex;
      gap: 0.5rem;
    }
    
    .cubfirst-data-table-export button {
      padding: 0.5rem 1rem;
      border: 1px solid #d1d5db;
      border-radius: 4px;
      background: white;
      color: #374151;
      font-size: 0.875rem;
      cursor: pointer;
    }
    
    .cubfirst-data-table-export button:hover {
      background: #f9fafb;
    }
    
    .cubfirst-data-table-loading {
      text-align: center;
      padding: 2rem;
      color: #6b7280;
    }
    
    .cubfirst-data-table-empty {
      text-align: center;
      padding: 2rem;
      color: #6b7280;
    }
    
    /* Time Picker */
    .cubfirst-time-picker {
      position: relative;
    }
    
    .cubfirst-time-picker input {
      width: 100%;
      padding: 0.75rem;
      border: 1px solid #d1d5db;
      border-radius: 6px;
      font-size: 1rem;
    }
    
    .cubfirst-time-picker input:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }
    
    .cubfirst-time-picker-dropdown {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: white;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      z-index: 50;
      margin-top: 0.25rem;
      padding: 1rem;
    }
    
    .cubfirst-time-picker-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
      align-items: center;
    }
    
    .cubfirst-time-picker-inputs {
      display: flex;
      gap: 0.5rem;
      align-items: center;
    }
    
    .cubfirst-time-picker-inputs input {
      width: 3rem;
      text-align: center;
      padding: 0.5rem;
      border: 1px solid #d1d5db;
      border-radius: 4px;
    }
    
    .cubfirst-time-picker-separator {
      font-size: 1.5rem;
      color: #6b7280;
    }
    
    .cubfirst-time-picker-format {
      display: flex;
      gap: 0.5rem;
    }
    
    .cubfirst-time-picker-format button {
      padding: 0.5rem 1rem;
      border: 1px solid #d1d5db;
      border-radius: 4px;
      background: white;
      color: #374151;
      cursor: pointer;
      font-size: 0.875rem;
    }
    
    .cubfirst-time-picker-format button.active {
      background: #3b82f6;
      color: white;
      border-color: #3b82f6;
    }
    
    /* Multi Select */
    .cubfirst-multi-select {
      position: relative;
    }
    
    .cubfirst-multi-select-input {
      width: 100%;
      padding: 0.75rem;
      border: 1px solid #d1d5db;
      border-radius: 6px;
      font-size: 1rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    
    .cubfirst-multi-select-input:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }
    
    .cubfirst-multi-select-dropdown {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: white;
      border: 1px solid #e5e7eb;
      border-radius: 6px;
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      z-index: 50;
      margin-top: 0.25rem;
      max-height: 200px;
      overflow-y: auto;
    }
    
    .cubfirst-multi-select-search {
      padding: 0.75rem;
      border-bottom: 1px solid #e5e7eb;
    }
    
    .cubfirst-multi-select-search input {
      width: 100%;
      padding: 0.5rem;
      border: 1px solid #d1d5db;
      border-radius: 4px;
      font-size: 0.875rem;
    }
    
    .cubfirst-multi-select-options {
      max-height: 150px;
      overflow-y: auto;
    }
    
    .cubfirst-multi-select-option {
      padding: 0.75rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .cubfirst-multi-select-option:hover {
      background: #f9fafb;
    }
    
    .cubfirst-multi-select-option.selected {
      background: #eff6ff;
    }
    
    .cubfirst-multi-select-option input[type="checkbox"] {
      margin: 0;
    }
    
    .cubfirst-multi-select-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 0.25rem;
      margin-bottom: 0.5rem;
    }
    
    .cubfirst-multi-select-tag {
      display: flex;
      align-items: center;
      gap: 0.25rem;
      padding: 0.25rem 0.5rem;
      background: #e5e7eb;
      border-radius: 4px;
      font-size: 0.875rem;
    }
    
    .cubfirst-multi-select-tag-remove {
      background: none;
      border: none;
      color: #6b7280;
      cursor: pointer;
      padding: 0;
      font-size: 0.875rem;
    }
    
    .cubfirst-multi-select-tag-remove:hover {
      color: #ef4444;
    }
    
    /* Loader/Spinner */
    .cubfirst-loader {
      display: inline-block;
      position: relative;
    }
    
    .cubfirst-loader-spinner {
      width: 40px;
      height: 40px;
      border: 4px solid #f3f4f6;
      border-top: 4px solid #3b82f6;
      border-radius: 50%;
      animation: cubfirst-spin 1s linear infinite;
    }
    
    .cubfirst-loader-spinner.small {
      width: 20px;
      height: 20px;
      border-width: 2px;
    }
    
    .cubfirst-loader-spinner.large {
      width: 60px;
      height: 60px;
      border-width: 6px;
    }
    
    .cubfirst-loader-dots {
      display: flex;
      gap: 4px;
      align-items: center;
    }
    
    .cubfirst-loader-dot {
      width: 8px;
      height: 8px;
      background: #3b82f6;
      border-radius: 50%;
      animation: cubfirst-bounce 1.4s ease-in-out infinite both;
    }
    
    .cubfirst-loader-dot:nth-child(1) { animation-delay: -0.32s; }
    .cubfirst-loader-dot:nth-child(2) { animation-delay: -0.16s; }
    .cubfirst-loader-dot:nth-child(3) { animation-delay: 0s; }
    
    .cubfirst-loader-bars {
      display: flex;
      gap: 2px;
      align-items: end;
    }
    
    .cubfirst-loader-bar {
      width: 4px;
      background: #3b82f6;
      border-radius: 2px;
      animation: cubfirst-pulse 1.2s ease-in-out infinite;
    }
    
    .cubfirst-loader-bar:nth-child(1) { height: 20px; animation-delay: -0.24s; }
    .cubfirst-loader-bar:nth-child(2) { height: 30px; animation-delay: -0.12s; }
    .cubfirst-loader-bar:nth-child(3) { height: 40px; animation-delay: 0s; }
    .cubfirst-loader-bar:nth-child(4) { height: 30px; animation-delay: 0.12s; }
    .cubfirst-loader-bar:nth-child(5) { height: 20px; animation-delay: 0.24s; }
    
    .cubfirst-loader-text {
      margin-top: 0.5rem;
      color: #6b7280;
      font-size: 0.875rem;
      text-align: center;
    }
    
    .cubfirst-loader-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(255, 255, 255, 0.9);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
    }
    
    .cubfirst-loader-overlay.dark {
      background: rgba(0, 0, 0, 0.8);
    }
    
    .cubfirst-loader-overlay .cubfirst-loader-text {
      color: #374151;
    }
    
    .cubfirst-loader-overlay.dark .cubfirst-loader-text {
      color: white;
    }
    
    @keyframes cubfirst-spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    @keyframes cubfirst-bounce {
      0%, 80%, 100% {
        transform: scale(0);
      }
      40% {
        transform: scale(1);
      }
    }
    
    @keyframes cubfirst-pulse {
      0%, 40%, 100% {
        transform: scaleY(0.4);
      }
      20% {
        transform: scaleY(1);
      }
    }
    
    /* Progress Scroll */
    .cubfirst-progress-scroll {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: rgba(0, 0, 0, 0.1);
      z-index: 9999;
      transition: opacity 0.3s ease;
    }
    
    .cubfirst-progress-scroll-bar {
      height: 100%;
      background: linear-gradient(90deg, #3b82f6, #1d4ed8);
      width: 0%;
      transition: width 0.1s ease;
      position: relative;
      overflow: hidden;
    }
    
    .cubfirst-progress-scroll-bar::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      animation: cubfirst-progress-shimmer 2s infinite;
    }
    
    .cubfirst-progress-scroll.bottom {
      top: auto;
      bottom: 0;
    }
    
    .cubfirst-progress-scroll.left {
      top: 0;
      left: 0;
      width: 4px;
      height: 100%;
    }
    
    .cubfirst-progress-scroll.left .cubfirst-progress-scroll-bar {
      width: 100%;
      height: 0%;
      transition: height 0.1s ease;
    }
    
    .cubfirst-progress-scroll.right {
      top: 0;
      right: 0;
      left: auto;
      width: 4px;
      height: 100%;
    }
    
    .cubfirst-progress-scroll.right .cubfirst-progress-scroll-bar {
      width: 100%;
      height: 0%;
      transition: height 0.1s ease;
    }
    
    .cubfirst-progress-scroll-circle {
      position: fixed;
      top: 20px;
      right: 20px;
      width: 60px;
      height: 60px;
      z-index: 9999;
    }
    
    .cubfirst-progress-scroll-circle svg {
      width: 100%;
      height: 100%;
      transform: rotate(-90deg);
    }
    
    .cubfirst-progress-scroll-circle-bg {
      fill: none;
      stroke: rgba(0, 0, 0, 0.1);
      stroke-width: 4;
    }
    
    .cubfirst-progress-scroll-circle-progress {
      fill: none;
      stroke: #3b82f6;
      stroke-width: 4;
      stroke-linecap: round;
      transition: stroke-dashoffset 0.1s ease;
    }
    
    .cubfirst-progress-scroll-circle-text {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 12px;
      font-weight: 600;
      color: #374151;
    }
    
    .cubfirst-progress-scroll.hidden {
      opacity: 0;
      pointer-events: none;
    }
    
    @keyframes cubfirst-progress-shimmer {
      0% {
        transform: translateX(-100%);
      }
      100% {
        transform: translateX(100%);
      }
    }
    
    /* Theme System */
    .cubfirst-theme-switcher {
      position: relative;
      display: inline-block;
    }
    
    .cubfirst-theme-switcher button {
      padding: 0.5rem 1rem;
      border: 1px solid #d1d5db;
      border-radius: 6px;
      background: white;
      color: #374151;
      cursor: pointer;
      font-size: 0.875rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .cubfirst-theme-switcher button:hover {
      background: #f9fafb;
    }
    
    .cubfirst-theme-switcher button:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }
    
    .cubfirst-theme-dropdown {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: white;
      border: 1px solid #e5e7eb;
      border-radius: 6px;
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      z-index: 50;
      margin-top: 0.25rem;
      overflow: hidden;
    }
    
    .cubfirst-theme-option {
      padding: 0.75rem 1rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      border-bottom: 1px solid #f3f4f6;
    }
    
    .cubfirst-theme-option:last-child {
      border-bottom: none;
    }
    
    .cubfirst-theme-option:hover {
      background: #f9fafb;
    }
    
    .cubfirst-theme-option.active {
      background: #eff6ff;
      color: #1d4ed8;
    }
    
    .cubfirst-theme-preview {
      width: 20px;
      height: 20px;
      border-radius: 4px;
      border: 1px solid #d1d5db;
    }
    
    .cubfirst-theme-preview.light {
      background: linear-gradient(45deg, #ffffff 50%, #f3f4f6 50%);
    }
    
    .cubfirst-theme-preview.dark {
      background: linear-gradient(45deg, #1f2937 50%, #111827 50%);
    }
    
    .cubfirst-theme-preview.blue {
      background: linear-gradient(45deg, #3b82f6 50%, #1d4ed8 50%);
    }
    
    .cubfirst-theme-preview.green {
      background: linear-gradient(45deg, #10b981 50%, #059669 50%);
    }
    
    .cubfirst-theme-preview.purple {
      background: linear-gradient(45deg, #8b5cf6 50%, #7c3aed 50%);
    }
    
    .cubfirst-theme-preview.red {
      background: linear-gradient(45deg, #ef4444 50%, #dc2626 50%);
    }
    
    /* Drawer/Bottom Sheet */
    .cubfirst-drawer {
      position: fixed;
      background: white;
      box-shadow: 0 -4px 6px -1px rgba(0, 0, 0, 0.1);
      z-index: 50;
      transition: transform 0.3s ease;
      overflow: hidden;
    }
    
    .cubfirst-drawer.top {
      top: 0;
      left: 0;
      right: 0;
      transform: translateY(-100%);
    }
    
    .cubfirst-drawer.bottom {
      bottom: 0;
      left: 0;
      right: 0;
      transform: translateY(100%);
    }
    
    .cubfirst-drawer.left {
      top: 0;
      left: 0;
      bottom: 0;
      transform: translateX(-100%);
    }
    
    .cubfirst-drawer.right {
      top: 0;
      right: 0;
      bottom: 0;
      transform: translateX(100%);
    }
    
    .cubfirst-drawer.open {
      transform: translate(0, 0);
    }
    
    .cubfirst-drawer-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      z-index: 49;
      opacity: 0;
      transition: opacity 0.3s ease;
      pointer-events: none;
    }
    
    .cubfirst-drawer-overlay.show {
      opacity: 1;
      pointer-events: auto;
    }
    
    .cubfirst-drawer-header {
      padding: 1rem;
      border-bottom: 1px solid #e5e7eb;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    
    .cubfirst-drawer-title {
      font-size: 1.125rem;
      font-weight: 600;
      color: #111827;
    }
    
    .cubfirst-drawer-close {
      background: none;
      border: none;
      color: #6b7280;
      cursor: pointer;
      padding: 0.25rem;
      border-radius: 4px;
    }
    
    .cubfirst-drawer-close:hover {
      background: #f3f4f6;
      color: #374151;
    }
    
    .cubfirst-drawer-content {
      padding: 1rem;
      max-height: calc(100vh - 80px);
      overflow-y: auto;
    }
    
    .cubfirst-drawer-handle {
      position: absolute;
      top: 0.5rem;
      left: 50%;
      transform: translateX(-50%);
      width: 40px;
      height: 4px;
      background: #d1d5db;
      border-radius: 2px;
    }
    
    /* Rich Text Editor */
    .cubfirst-rich-editor {
      border: 1px solid #d1d5db;
      border-radius: 6px;
      background: white;
      overflow: hidden;
    }
    
    .cubfirst-rich-editor:focus-within {
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }
    
    .cubfirst-rich-editor-toolbar {
      display: flex;
      flex-wrap: wrap;
      gap: 0.25rem;
      padding: 0.5rem;
      border-bottom: 1px solid #e5e7eb;
      background: #f8fafc;
    }
    
    .cubfirst-rich-editor-button {
      padding: 0.5rem;
      border: 1px solid transparent;
      border-radius: 4px;
      background: white;
      color: #374151;
      cursor: pointer;
      font-size: 0.875rem;
      display: flex;
      align-items: center;
      justify-content: center;
      min-width: 32px;
      height: 32px;
    }
    
    .cubfirst-rich-editor-button:hover {
      background: #f3f4f6;
    }
    
    .cubfirst-rich-editor-button.active {
      background: #3b82f6;
      color: white;
      border-color: #3b82f6;
    }
    
    .cubfirst-rich-editor-button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    
    .cubfirst-rich-editor-content {
      min-height: 200px;
      padding: 1rem;
      outline: none;
      font-size: 1rem;
      line-height: 1.5;
    }
    
    .cubfirst-rich-editor-content:empty::before {
      content: attr(data-placeholder);
      color: #9ca3af;
      pointer-events: none;
    }
    
    .cubfirst-rich-editor-dropdown {
      position: relative;
      display: inline-block;
    }
    
    .cubfirst-rich-editor-dropdown-content {
      position: absolute;
      top: 100%;
      left: 0;
      background: white;
      border: 1px solid #e5e7eb;
      border-radius: 4px;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      z-index: 10;
      min-width: 120px;
    }
    
    .cubfirst-rich-editor-dropdown-item {
      padding: 0.5rem 0.75rem;
      cursor: pointer;
      font-size: 0.875rem;
      color: #374151;
    }
    
    .cubfirst-rich-editor-dropdown-item:hover {
      background: #f3f4f6;
    }
    
    .cubfirst-rich-editor-color-picker {
      position: absolute;
      top: 100%;
      left: 0;
      background: white;
      border: 1px solid #e5e7eb;
      border-radius: 4px;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      z-index: 10;
      padding: 0.5rem;
    }
    
    .cubfirst-rich-editor-color-option {
      width: 24px;
      height: 24px;
      border-radius: 4px;
      cursor: pointer;
      border: 2px solid transparent;
      margin: 0.125rem;
    }
    
    .cubfirst-rich-editor-color-option:hover {
      border-color: #3b82f6;
    }
    
    .cubfirst-rich-editor-color-option.active {
      border-color: #1d4ed8;
    }
    
    /* ===== RESPONSIVE IMPROVEMENTS ===== */
    
    /* Modal responsive */
    @media (max-width: 480px) {
      .cubfirst-modal {
        padding: 0.5rem;
      }
      
      .cubfirst-modal-content {
        padding: 1rem;
        border-radius: 0;
        max-height: 100vh;
        width: 100%;
        max-width: none;
      }
      
      .cubfirst-modal-close {
        top: 0.5rem;
        right: 0.5rem;
        font-size: 1.25rem;
      }
    }
    
    @media (min-width: 481px) and (max-width: 768px) {
      .cubfirst-modal-content {
        max-width: 90%;
        padding: 1.25rem;
      }
    }
    
    /* Tabs responsive */
    @media (max-width: 480px) {
      .cubfirst-tabs .tab-title {
        padding: 0.75rem 0.5rem;
        font-size: 0.875rem;
        flex: 1;
        text-align: center;
      }
      
      .cubfirst-tabs {
        flex-direction: column;
      }
      
      .cubfirst-tabs .tab-content {
        padding: 1rem 0.5rem;
      }
    }
    
    /* Carousel responsive */
    @media (max-width: 480px) {
      .cubfirst-carousel {
        height: 200px;
      }
      
      .cubfirst-carousel-slide {
        font-size: 0.875rem;
        padding: 1rem;
      }
      
      .cubfirst-carousel-nav {
        font-size: 1.5rem;
        padding: 0.5rem;
      }
      
      .cubfirst-carousel-bullets {
        bottom: 0.5rem;
      }
      
      .cubfirst-carousel-bullet {
        width: 8px;
        height: 8px;
        margin: 0 3px;
      }
    }
    
    @media (min-width: 481px) and (max-width: 768px) {
      .cubfirst-carousel {
        height: 300px;
      }
    }
    
    /* Data Table responsive */
    @media (max-width: 768px) {
      .cubfirst-data-table-container {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
      }
      
      .cubfirst-data-table {
        min-width: 600px;
      }
      
      .cubfirst-data-table th,
      .cubfirst-data-table td {
        padding: 0.5rem;
        font-size: 0.875rem;
      }
      
      .cubfirst-data-table-toolbar {
        flex-direction: column;
        gap: 0.5rem;
        align-items: stretch;
      }
      
      .cubfirst-data-table-search {
        width: 100%;
      }
      
      .cubfirst-data-table-search input {
        width: 100%;
      }
      
      .cubfirst-data-table-pagination {
        flex-direction: column;
        gap: 0.5rem;
        text-align: center;
      }
    }
    
    @media (max-width: 480px) {
      .cubfirst-data-table th,
      .cubfirst-data-table td {
        padding: 0.25rem;
        font-size: 0.75rem;
      }
    }
    
    /* Drawer responsive */
    @media (max-width: 480px) {
      .cubfirst-drawer.bottom {
        height: 80vh !important;
      }
      
      .cubfirst-drawer.left,
      .cubfirst-drawer.right {
        width: 100vw !important;
      }
      
      .cubfirst-drawer-content {
        padding: 0.75rem;
      }
      
      .cubfirst-drawer-header {
        padding: 0.75rem;
      }
      
      .cubfirst-drawer-title {
        font-size: 1rem;
      }
    }
    
    /* Rich Editor responsive */
    @media (max-width: 480px) {
      .cubfirst-rich-editor-toolbar {
        flex-wrap: wrap;
        gap: 0.125rem;
        padding: 0.25rem;
      }
      
      .cubfirst-rich-editor-button {
        min-width: 28px;
        height: 28px;
        font-size: 0.75rem;
        padding: 0.25rem;
      }
      
      .cubfirst-rich-editor-content {
        min-height: 150px;
        padding: 0.75rem;
        font-size: 0.875rem;
      }
    }
    
    /* Time Picker responsive */
    @media (max-width: 480px) {
      .cubfirst-time-picker-dropdown {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 90vw;
        max-width: 300px;
      }
      
      .cubfirst-time-picker-grid {
        grid-template-columns: 1fr;
        gap: 0.5rem;
      }
      
      .cubfirst-time-picker-inputs {
        justify-content: center;
      }
    }
    
    /* Multi Select responsive */
    @media (max-width: 480px) {
      .cubfirst-multi-select-dropdown {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 90vw;
        max-width: 300px;
        max-height: 60vh;
      }
      
      .cubfirst-multi-select-tags {
        flex-wrap: wrap;
        gap: 0.125rem;
      }
      
      .cubfirst-multi-select-tag {
        font-size: 0.75rem;
        padding: 0.125rem 0.25rem;
      }
    }
    
    /* Progress Scroll responsive */
    @media (max-width: 480px) {
      .cubfirst-progress-scroll-circle {
        width: 40px;
        height: 40px;
        top: 10px;
        right: 10px;
      }
      
      .cubfirst-progress-scroll-circle-text {
        font-size: 10px;
      }
    }
    
    /* Theme System responsive */
    @media (max-width: 480px) {
      .cubfirst-theme-switcher button {
        padding: 0.375rem 0.75rem;
        font-size: 0.75rem;
      }
      
      .cubfirst-theme-preview {
        width: 16px;
        height: 16px;
      }
      
      .cubfirst-theme-dropdown {
        width: 100vw;
        left: 0;
        right: 0;
        margin-left: -1rem;
        margin-right: -1rem;
      }
    }
    
    /* File Upload responsive */
    @media (max-width: 480px) {
      .cubfirst-file-upload {
        padding: 1rem 0.5rem;
      }
      
      .cubfirst-file-upload-area {
        padding: 2rem 1rem;
        font-size: 0.875rem;
      }
      
      .cubfirst-file-list {
        gap: 0.5rem;
      }
      
      .cubfirst-file-item {
        padding: 0.5rem;
        font-size: 0.75rem;
      }
    }
    
    /* Date Picker responsive */
    @media (max-width: 480px) {
      .cubfirst-date-picker-dropdown {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 90vw;
        max-width: 300px;
      }
      
      .cubfirst-date-picker-calendar {
        font-size: 0.875rem;
      }
      
      .cubfirst-date-picker-day {
        width: 32px;
        height: 32px;
        font-size: 0.75rem;
      }
    }
    
    /* Color Picker responsive */
    @media (max-width: 480px) {
      .cubfirst-color-picker-palette {
        grid-template-columns: repeat(4, 1fr);
        gap: 0.5rem;
        padding: 0.75rem;
      }
      
      .cubfirst-color-picker-color {
        width: 32px;
        height: 32px;
      }
    }
    
    /* Slider responsive */
    @media (max-width: 480px) {
      .cubfirst-slider {
        height: 6px;
      }
      
      .cubfirst-slider-thumb {
        width: 20px;
        height: 20px;
      }
      
      .cubfirst-slider-value {
        font-size: 0.75rem;
        margin-top: 0.25rem;
      }
    }
    
    /* Switch responsive */
    @media (max-width: 480px) {
      .cubfirst-switch {
        width: 40px;
        height: 20px;
      }
      
      .cubfirst-switch-thumb {
        width: 16px;
        height: 16px;
      }
    }
    
    /* Breadcrumb responsive */
    @media (max-width: 480px) {
      .cubfirst-breadcrumb {
        flex-wrap: wrap;
        gap: 0.25rem;
      }
      
      .cubfirst-breadcrumb-item {
        font-size: 0.75rem;
        padding: 0.25rem 0.5rem;
      }
      
      .cubfirst-breadcrumb-separator {
        font-size: 0.75rem;
      }
    }
    
    /* Pagination responsive */
    @media (max-width: 480px) {
      .cubfirst-pagination {
        flex-wrap: wrap;
        gap: 0.25rem;
        justify-content: center;
      }
      
      .cubfirst-pagination-button {
        min-width: 32px;
        height: 32px;
        font-size: 0.75rem;
        padding: 0.25rem;
      }
      
      .cubfirst-pagination-ellipsis {
        font-size: 0.75rem;
      }
    }
    
    /* Sidebar responsive */
    @media (max-width: 768px) {
      .cubfirst-sidebar {
        width: 100vw !important;
        max-width: 300px;
      }
    }
    
    @media (max-width: 480px) {
      .cubfirst-sidebar {
        width: 100vw !important;
        max-width: none;
      }
    }
    
    /* Alert responsive */
    @media (max-width: 480px) {
      .cubfirst-alert {
        margin: 0.5rem;
        padding: 0.75rem;
        font-size: 0.875rem;
      }
      
      .cubfirst-alert-title {
        font-size: 1rem;
        margin-bottom: 0.25rem;
      }
      
      .cubfirst-alert-close {
        top: 0.5rem;
        right: 0.5rem;
        font-size: 1rem;
      }
    }
    
    /* Skeleton responsive */
    @media (max-width: 480px) {
      .cubfirst-skeleton-line {
        height: 12px;
        margin-bottom: 8px;
      }
      
      .cubfirst-skeleton-circle {
        width: 40px;
        height: 40px;
      }
      
      .cubfirst-skeleton-rect {
        height: 60px;
      }
    }
    
    /* Search responsive */
    @media (max-width: 480px) {
      .cubfirst-search {
        width: 100%;
      }
      
      .cubfirst-search input {
        font-size: 0.875rem;
        padding: 0.5rem;
      }
      
      .cubfirst-search-results {
        font-size: 0.875rem;
        max-height: 200px;
      }
    }
    
    /* Autocomplete responsive */
    @media (max-width: 480px) {
      .cubfirst-autocomplete-dropdown {
        font-size: 0.875rem;
        max-height: 200px;
      }
      
      .cubfirst-autocomplete-item {
        padding: 0.5rem;
      }
    }
    
    /* Swipe responsive */
    @media (max-width: 480px) {
      .cubfirst-swipe-indicators {
        bottom: 0.5rem;
      }
      
      .cubfirst-swipe-indicator {
        width: 6px;
        height: 6px;
        margin: 0 2px;
      }
    }
    
    /* Loader responsive */
    @media (max-width: 480px) {
      .cubfirst-loader-spinner.small {
        width: 16px;
        height: 16px;
        border-width: 2px;
      }
      
      .cubfirst-loader-spinner {
        width: 32px;
        height: 32px;
        border-width: 3px;
      }
      
      .cubfirst-loader-spinner.large {
        width: 48px;
        height: 48px;
        border-width: 4px;
      }
      
      .cubfirst-loader-dot {
        width: 6px;
        height: 6px;
      }
      
      .cubfirst-loader-bar {
        width: 3px;
      }
      
      .cubfirst-loader-bar:nth-child(1) { height: 16px; }
      .cubfirst-loader-bar:nth-child(2) { height: 24px; }
      .cubfirst-loader-bar:nth-child(3) { height: 32px; }
      .cubfirst-loader-bar:nth-child(4) { height: 24px; }
      .cubfirst-loader-bar:nth-child(5) { height: 16px; }
    }
    
    /* Progress Bar responsive */
    @media (max-width: 480px) {
      .cubfirst-progress {
        height: 6px;
      }
      
      .cubfirst-progress-circle {
        width: 60px;
        height: 60px;
      }
      
      .cubfirst-progress-steps {
        gap: 0.25rem;
      }
      
      .cubfirst-progress-step {
        width: 24px;
        height: 24px;
        font-size: 0.75rem;
      }
    }
    
    /* Rating responsive */
    @media (max-width: 480px) {
      .cubfirst-rating {
        font-size: 1.25rem;
      }
    }
    
    /* Card responsive */
    @media (max-width: 480px) {
      .cubfirst-card {
        margin: 0.5rem;
        padding: 1rem;
      }
      
      .cubfirst-card-title {
        font-size: 1.125rem;
        margin-bottom: 0.5rem;
      }
      
      .cubfirst-card-content {
        font-size: 0.875rem;
      }
    }
    
    /* Tooltip responsive */
    @media (max-width: 480px) {
      .cubfirst-tooltip {
        font-size: 0.75rem;
        padding: 0.375rem 0.5rem;
        max-width: 200px;
      }
    }
    
    /* Toast responsive */
    @media (max-width: 480px) {
      .cubfirst-toast {
        margin: 0.5rem;
        padding: 0.75rem;
        font-size: 0.875rem;
        max-width: calc(100vw - 1rem);
      }
    }
    
    /* Accordion responsive */
    @media (max-width: 480px) {
      .cubfirst-accordion-title {
        padding: 0.75rem;
        font-size: 0.875rem;
      }
      
      .cubfirst-accordion-content {
        padding: 0.75rem;
        font-size: 0.875rem;
      }
    }
    
    /* Contact Form responsive */
    @media (max-width: 480px) {
      .cubfirst-contact-form {
        padding: 1rem;
      }
      
      .cubfirst-contact-form input,
      .cubfirst-contact-form textarea {
        font-size: 0.875rem;
        padding: 0.75rem;
      }
      
      .cubfirst-contact-form button {
        padding: 0.75rem 1.5rem;
        font-size: 0.875rem;
      }
    }
    
    /* Copy responsive */
    @media (max-width: 480px) {
      .cubfirst-copy {
        padding: 0.5rem;
        font-size: 0.875rem;
      }
    }
    
    /* Toggle responsive */
    @media (max-width: 480px) {
      .cubfirst-toggle {
        padding: 0.5rem;
        font-size: 0.875rem;
      }
    }
    
    /* ScrollTo responsive */
    @media (max-width: 480px) {
      .cubfirst-scroll-to {
        padding: 0.5rem;
        font-size: 0.875rem;
      }
    }
    
    /* Countdown responsive */
    @media (max-width: 480px) {
      .cubfirst-countdown {
        font-size: 1.5rem;
        gap: 0.5rem;
      }
      
      .cubfirst-countdown-item {
        padding: 0.5rem;
        min-width: 50px;
      }
      
      .cubfirst-countdown-value {
        font-size: 1.25rem;
      }
      
      .cubfirst-countdown-label {
        font-size: 0.625rem;
      }
    }
    
    /* Dark Mode Toggle responsive */
    @media (max-width: 480px) {
      .cubfirst-dark-mode-toggle {
        padding: 0.5rem;
        font-size: 0.875rem;
      }
    }
    
    /* Confirm responsive */
    @media (max-width: 480px) {
      .cubfirst-confirm {
        margin: 1rem;
        padding: 1rem;
        font-size: 0.875rem;
      }
      
      .cubfirst-confirm-buttons {
        flex-direction: column;
        gap: 0.5rem;
      }
      
      .cubfirst-confirm-button {
        width: 100%;
        padding: 0.75rem;
      }
    }
    
    /* Dropdown responsive */
    @media (max-width: 480px) {
      .cubfirst-dropdown-menu {
        font-size: 0.875rem;
        min-width: 150px;
      }
      
      .cubfirst-dropdown-item {
        padding: 0.75rem;
      }
    }
    
    /* Reveal responsive */
    @media (max-width: 480px) {
      .cubfirst-reveal {
        font-size: 0.875rem;
      }
    }
    
    /* Input Mask responsive */
    @media (max-width: 480px) {
      .cubfirst-input-mask {
        font-size: 0.875rem;
        padding: 0.75rem;
      }
    }
    
    /* Filter responsive */
    @media (max-width: 480px) {
      .cubfirst-filter {
        padding: 0.5rem;
        font-size: 0.875rem;
      }
    }
    
    /* Grid Expand responsive */
    @media (max-width: 480px) {
      .cubfirst-grid-expand {
        font-size: 0.875rem;
      }
    }
    
    /* Hover Preview responsive */
    @media (max-width: 480px) {
      .cubfirst-hover-preview {
        font-size: 0.75rem;
        padding: 0.5rem;
        max-width: 200px;
      }
    }
    
    /* Load More responsive */
    @media (max-width: 480px) {
      .cubfirst-load-more {
        padding: 0.75rem;
        font-size: 0.875rem;
      }
    }
    
    /* Hamburger responsive */
    @media (max-width: 480px) {
      .cubfirst-hamburger {
        width: 24px;
        height: 18px;
      }
      
      .cubfirst-hamburger span {
        height: 2px;
      }
    }
  `,document.head.appendChild(e)};function X(e,r){if(!A("modal",r,["trigger"]))return;let t=e.querySelector(".modal-content");if(!t){console.error("cubFirst: Modal n\xE9cessite un \xE9l\xE9ment .modal-content");return}e.classList.add("cubfirst-modal"),t.classList.add("cubfirst-modal-content");let i=document.createElement("button");i.textContent="\xD7",i.className="cubfirst-modal-close";let a=()=>{e.style.display="flex",document.body.style.overflow="hidden",I()&&(t.style.maxHeight="100vh",t.style.width="100%",t.style.borderRadius="0",t.style.margin="0"),e.dispatchEvent(new CustomEvent("modalOpen"))},n=()=>{e.style.display="none",document.body.style.overflow="auto",e.dispatchEvent(new CustomEvent("modalClose"))};i.onclick=n,t.appendChild(i);let c=document.querySelector(r.trigger);c&&c.addEventListener("click",a),e.addEventListener("click",b=>{b.target===e&&n()});let o=b=>{b.key==="Escape"&&e.style.display==="flex"&&n()};document.addEventListener("keydown",o);let u={open:a,close:n,isOpen:()=>e.style.display==="flex",setContent:b=>{let l=t.querySelector(":not(.cubfirst-modal-close)");l&&(l.innerHTML=b)}};e.modalAPI=u,w.register(e,()=>{document.removeEventListener("keydown",o),delete e.modalAPI}),e.style.display="none"}function Y(e){var u;e.classList.add("cubfirst-tabs");let r=e.querySelectorAll("[data-tab]"),t=e.querySelectorAll(".tab-content"),i=0;r.forEach(b=>b.classList.add("tab-title"));let a=b=>{let l=Array.from(r).findIndex(s=>s.dataset.tab===b);l!==-1&&(i=l),r.forEach(s=>s.classList.toggle("active",s.dataset.tab===b)),t.forEach(s=>{let d=s;d.style.display=d.dataset.tab===b?"block":"none"}),e.dispatchEvent(new CustomEvent("tabChange",{detail:{activeTab:b,tabIndex:i}}))},n=()=>{r=e.querySelectorAll("[data-tab]"),t=e.querySelectorAll(".tab-content"),r.forEach(b=>b.classList.add("tab-title"))};r.forEach(b=>b.addEventListener("click",()=>a(b.dataset.tab)));let c={goTo:b=>{var s;let l=(s=r[b])==null?void 0:s.dataset.tab;l&&a(l)},goToTab:b=>a(b),getCurrentTab:()=>i,getTotalTabs:()=>r.length,addTab:(b,l,s)=>{var m;let d=document.createElement("div");d.setAttribute("data-tab",b),d.className="tab-title",d.textContent=l;let f=document.createElement("div");f.setAttribute("data-tab",b),f.className="tab-content",f.innerHTML=s,(m=e.querySelector(".tab-nav"))==null||m.appendChild(d),e.appendChild(f),n(),d.addEventListener("click",()=>a(b))},refresh:n};e.tabsAPI=c,w.register(e,()=>{delete e.tabsAPI});let o=(u=r[0])==null?void 0:u.dataset.tab;o&&a(o)}function W(e){let r=Array.from(e.querySelectorAll(".accordion-item")),t=-1,i=n=>{let c=r[n];if(!c)return;let o=c.querySelector(".accordion-content");if(!o)return;let u=o.style.display==="block";r.forEach((b,l)=>{let s=b.querySelector(".accordion-content");s&&(s.style.display="none")}),u?t=-1:(o.style.display="block",t=n),e.dispatchEvent(new CustomEvent("accordionToggle",{detail:{openIndex:t,totalItems:r.length}}))};r.forEach((n,c)=>{let o=n.querySelector(".accordion-header"),u=n.querySelector(".accordion-content");!o||!u||(u.style.display="none",o.addEventListener("click",()=>i(c)))});let a={open:n=>{if(n>=0&&n<r.length){let c=r[n].querySelector(".accordion-content");c&&(r.forEach(o=>{let u=o.querySelector(".accordion-content");u&&(u.style.display="none")}),c.style.display="block",t=n)}},close:n=>{if(n>=0&&n<r.length){let c=r[n].querySelector(".accordion-content");c&&(c.style.display="none",t===n&&(t=-1))}},toggle:n=>i(n),closeAll:()=>{r.forEach(n=>{let c=n.querySelector(".accordion-content");c&&(c.style.display="none")}),t=-1},getOpenIndex:()=>t,getTotalItems:()=>r.length,refresh:()=>{r=Array.from(e.querySelectorAll(".accordion-item"))}};e.accordionAPI=a,w.register(e,()=>{delete e.accordionAPI})}function J(e,r){if(!A("tooltip",r,["text"]))return;let t=document.createElement("div");t.textContent=r.text,t.className="cubfirst-tooltip",Object.assign(t.style,{position:"absolute",pointerEvents:"none",zIndex:"1000",display:"none",backgroundColor:"black",color:"white",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",whiteSpace:"nowrap"}),document.body.appendChild(t);let i=()=>{t.style.display="block";let c=e.getBoundingClientRect();t.style.left=`${c.left+window.scrollX}px`,t.style.top=`${c.top+window.scrollY-t.offsetHeight-8}px`},a=()=>{t.style.display="none"};e.addEventListener("mouseenter",i),e.addEventListener("mouseleave",a);let n={show:i,hide:a,setText:c=>{t.textContent=c},setPosition:c=>{t.position=c},isVisible:()=>t.style.display==="block"};e.tooltipAPI=n,w.register(e,()=>{t.remove(),delete e.tooltipAPI})}function O(e,r){let t=r.message,i=r.type||"info",a=r.duration||3e3,n=!1,c=null;e.classList.add("cubfirst-toast",`toast-${i}`),e.textContent=t,e.style.display="none";let o=()=>{n||(n=!0,e.style.display="block",e.dispatchEvent(new CustomEvent("toastShow")),a>0&&(c=setTimeout(()=>{u()},a)))},u=()=>{n&&(n=!1,e.style.display="none",c&&(clearTimeout(c),c=null),e.dispatchEvent(new CustomEvent("toastHide")))},b={show:o,hide:u,toggle:()=>n?u():o(),isVisible:()=>n,setMessage:l=>{t=l,e.textContent=l},setType:l=>{e.classList.remove(`toast-${i}`),i=l,e.classList.add(`toast-${l}`)},setDuration:l=>{a=l},update:(l,s,d)=>{l&&b.setMessage(l),s&&b.setType(s),d!==void 0&&b.setDuration(d)}};e.toastAPI=b,w.register(e,()=>{c&&clearTimeout(c),delete e.toastAPI}),r.message&&o()}function G(e,r){A("contact-form",r,["endpoint"])&&e.addEventListener("submit",t=>P(this,null,function*(){t.preventDefault();let i=e.querySelector('button[type="submit"]'),a=(i==null?void 0:i.textContent)||"Envoyer";i&&(i.disabled=!0,i.textContent="Envoi...");let n={};new FormData(e).forEach((c,o)=>n[o]=c.toString());try{let c=yield fetch(r.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(c.ok)alert("Message envoy\xE9 avec succ\xE8s !"),e.reset();else throw new Error(`Erreur HTTP: ${c.status}`)}catch(c){console.error("Erreur:",c),alert("Erreur lors de l'envoi du message")}finally{i&&(i.disabled=!1,i.textContent=a)}}))}function K(e,r){if(!A("copy",r,["target"]))return;let t=document.querySelector(r.target);if(!t){console.error(`cubFirst: \xC9l\xE9ment cible "${r.target}" introuvable pour le plugin copy`);return}let i=e.textContent||"Copier",a="",n=o=>P(this,null,function*(){let u=o||(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement?t.value:t.textContent||"");try{return yield navigator.clipboard.writeText(u),a=u,e.textContent="Copi\xE9 !",setTimeout(()=>e.textContent=i,2e3),e.dispatchEvent(new CustomEvent("copySuccess",{detail:{text:u}})),!0}catch(b){let l=document.createElement("textarea");return l.value=u,document.body.appendChild(l),l.select(),document.execCommand("copy"),document.body.removeChild(l),a=u,e.textContent="Copi\xE9 !",setTimeout(()=>e.textContent=i,2e3),e.dispatchEvent(new CustomEvent("copySuccess",{detail:{text:u}})),!0}});e.addEventListener("click",()=>n());let c={copy:n,setText:o=>n(o),setTarget:o=>{let u=document.querySelector(o);u&&(t=u,r.target=o)},getLastCopied:()=>a,getTargetText:()=>t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement?t.value:t.textContent||""};e.copyAPI=c,w.register(e,()=>{delete e.copyAPI})}function Q(e,r){let t=document.querySelector(r.target);if(!t)return;let i=t.style.display!=="none"&&!t.hasAttribute("hidden"),a=()=>{i||(t.style.display="",t.removeAttribute("hidden"),i=!0,e.dispatchEvent(new CustomEvent("toggleShow",{detail:{target:r.target}})))},n=()=>{i&&(t.style.display="none",t.setAttribute("hidden","true"),i=!1,e.dispatchEvent(new CustomEvent("toggleHide",{detail:{target:r.target}})))},c=()=>{i?n():a()};e.addEventListener("click",c);let o={show:a,hide:n,toggle:c,isVisible:()=>i,setTarget:u=>{let b=document.querySelector(u);b&&(r.target=u,i=b.style.display!=="none"&&!b.hasAttribute("hidden"))}};e.toggleAPI=o,w.register(e,()=>{delete e.toggleAPI})}function _(e,r){let t=document.querySelector(r.target);if(!t)return;let i=r.offset||0,a=r.behavior||"smooth",n=o=>{let u=o?document.querySelector(o):t;if(!u)return;let b=u.getBoundingClientRect().top+window.scrollY-i;window.scrollTo({top:b,behavior:a}),e.dispatchEvent(new CustomEvent("scrollToComplete",{detail:{target:o||r.target,offset:i}}))};e.addEventListener("click",o=>{o.preventDefault(),n()});let c={scrollTo:o=>n(o),setTarget:o=>{let u=document.querySelector(o);u&&(t=u,r.target=o)},setOffset:o=>{i=o},setBehavior:o=>{a=o},getTarget:()=>r.target,getOffset:()=>i};e.scrollToAPI=c,w.register(e,()=>{delete e.scrollToAPI})}function Z(e,r){let t=new Date(r.to);if(isNaN(t.getTime())){e.textContent="Date invalide";return}let i=null,a=!1,n=!1,c=()=>{if(a)return;let d=new Date,f=t.getTime()-d.getTime();if(f<=0){e.textContent="Temps \xE9coul\xE9",n=!0,i&&clearInterval(i),e.dispatchEvent(new CustomEvent("countdownFinished"));return}let m=Math.floor(f/864e5),h=Math.floor(f/36e5%24),y=Math.floor(f/6e4%60),v=Math.floor(f/1e3%60);e.textContent=`${m}j ${h}h ${y}m ${v}s`,e.dispatchEvent(new CustomEvent("countdownTick",{detail:{days:m,hours:h,minutes:y,seconds:v,remaining:f}}))},o=()=>{i||n||(i=setInterval(c,1e3),c())},s={start:o,pause:()=>{a=!0},resume:()=>{a=!1},reset:()=>{i&&(clearInterval(i),i=null),a=!1,n=!1,c()},setTarget:d=>{let f=new Date(d);isNaN(f.getTime())||(t=f,n=!1,c())},getTarget:()=>t.toISOString(),isPaused:()=>a,isFinished:()=>n,getRemaining:()=>{let d=t.getTime()-new Date().getTime();return Math.max(0,d)}};e.countdownAPI=s,o(),w.register(e,()=>{i&&clearInterval(i),delete e.countdownAPI})}function ee(e){let r=localStorage.getItem("darkMode")==="true";r&&document.documentElement.classList.add("dark-mode");let t=()=>{r=!r,document.documentElement.classList.toggle("dark-mode",r),localStorage.setItem("darkMode",r.toString()),e.dispatchEvent(new CustomEvent("darkModeToggle",{detail:{isDark:r}}))},i=n=>{r=n,document.documentElement.classList.toggle("dark-mode",r),localStorage.setItem("darkMode",r.toString()),e.dispatchEvent(new CustomEvent("darkModeChange",{detail:{isDark:r}}))};e.addEventListener("click",t);let a={toggle:t,setMode:i,getMode:()=>r,isEnabled:()=>r,enable:()=>i(!0),disable:()=>i(!1)};e.darkModeAPI=a,w.register(e,()=>{delete e.darkModeAPI})}function te(e,r){let t=r.message||"\xCAtes-vous s\xFBr ?",i=null,a=null,n=o=>{let u=o||t,b=confirm(u);return b?(i==null||i(),e.dispatchEvent(new CustomEvent("confirmAccept",{detail:{message:u}}))):(a==null||a(),e.dispatchEvent(new CustomEvent("confirmCancel",{detail:{message:u}}))),b};e.addEventListener("click",o=>{n()||o.preventDefault()});let c={show:n,setMessage:o=>{t=o},onConfirm:o=>{i=o},onCancel:o=>{a=o},getMessage:()=>t};e.confirmAPI=c,w.register(e,()=>{delete e.confirmAPI})}function re(e,r){let t=document.querySelector(r.trigger),i=e.querySelector(".dropdown-menu");if(!t||!i)return;i.classList.add("cubfirst-dropdown-menu"),i.setAttribute("hidden","true");let a=!1,n=()=>{a||(document.querySelectorAll(".cubfirst-dropdown-menu").forEach(b=>b.setAttribute("hidden","true")),i.removeAttribute("hidden"),a=!0,e.dispatchEvent(new CustomEvent("dropdownOpen")))},c=()=>{a&&(i.setAttribute("hidden","true"),a=!1,e.dispatchEvent(new CustomEvent("dropdownClose")))},o=()=>{a?c():n()};t.addEventListener("click",b=>{b.stopPropagation(),o()}),document.addEventListener("click",b=>{e.contains(b.target)||c()});let u={open:n,close:c,toggle:o,isOpen:()=>a,setItems:b=>{i.innerHTML="",b.forEach(l=>{let s=document.createElement("div");s.className="dropdown-item",s.textContent=l.text,s.dataset.value=l.value,l.onClick&&s.addEventListener("click",l.onClick),i.appendChild(s)})}};e.dropdownAPI=u,w.register(e,()=>{delete e.dropdownAPI})}function ie(e,r){var L,x;let t=Array.from(e.querySelectorAll(".carousel-slide"));if(t.length===0)return;e.classList.add("cubfirst-carousel");let i=0,a=null,n=N({},r),c=document.createElement("div");c.className="cubfirst-carousel-bullets",c.style.cssText="display: flex; justify-content: center; gap: 8px; margin-top: 8px;";let o=[],u=()=>{c.innerHTML="",o=t.map((g,E)=>{let k=document.createElement("button");return k.style.cssText="width: 12px; height: 12px; border-radius: 50%; border: none; background-color: #d1d5db; cursor: pointer;",k.addEventListener("click",()=>{p.goTo(E)}),c.appendChild(k),k})},b=g=>{g<0||g>=t.length||(i=g,t.forEach((E,k)=>{E.classList.toggle("active",k===g),o[k]&&(o[k].style.backgroundColor=k===g?"#3b82f6":"#d1d5db")}),e.dispatchEvent(new CustomEvent("carouselChange",{detail:{currentSlide:i,totalSlides:t.length}})))},l=()=>{i=(i+1)%t.length,b(i)},s=()=>{i=(i-1+t.length)%t.length,b(i)},d=0,f=0,m=g=>{d=g.touches[0].clientX},h=g=>{f=g.changedTouches[0].clientX,y()},y=()=>{let E=d-f;Math.abs(E)>50&&(E>0?l():s())},v=()=>{a&&clearInterval(a);let g=n.interval||5e3;g>0&&(a=setInterval(l,g))},T=()=>{t=Array.from(e.querySelectorAll(".carousel-slide")),u(),i>=t.length&&(i=Math.max(0,t.length-1)),b(i)},p={next:()=>{l(),v()},prev:()=>{s(),v()},goTo:g=>{g>=0&&g<t.length&&(b(g),v())},play:()=>{v()},pause:()=>{a&&(clearInterval(a),a=null)},setSpeed:g=>{n.interval=g,v()},refresh:T,getCurrentSlide:()=>i,getTotalSlides:()=>t.length,isPlaying:()=>a!==null};e.carouselAPI=p,(L=e.querySelector('[data-carousel="next"]'))==null||L.addEventListener("click",p.next),(x=e.querySelector('[data-carousel="prev"]'))==null||x.addEventListener("click",p.prev),e.addEventListener("touchstart",m,{passive:!0}),e.addEventListener("touchend",h,{passive:!0}),u(),e.appendChild(c),b(i),v();let C=new MutationObserver(()=>{Array.from(e.querySelectorAll(".carousel-slide")).length!==t.length&&T()});C.observe(e,{childList:!0,subtree:!0}),w.register(e,()=>{a&&clearInterval(a),C.disconnect(),delete e.carouselAPI})}function se(e,r){e.style.opacity="0",e.style.transition="opacity 0.6s ease";let t=new IntersectionObserver(i=>{i.forEach(a=>{a.isIntersecting&&(e.style.opacity="1",e.classList.add(`cubfirst-reveal-${r.animation||"fade"}`),t.disconnect())})},{threshold:.1});t.observe(e)}function ne(e,r){r.type==="phone"&&(e.setAttribute("maxlength","14"),e.addEventListener("input",()=>{let t=e.value.replace(/\D/g,"");t.length>=10?e.value=t.replace(/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/,"$1 $2 $3 $4 $5"):e.value=t})),r.type==="date"&&(e.setAttribute("placeholder","JJ/MM/AAAA"),e.setAttribute("maxlength","10"),e.addEventListener("input",()=>{let t=e.value.replace(/\D/g,"");t.length>=8?e.value=t.replace(/(\d{2})(\d{2})(\d{4})/,"$1/$2/$3"):t.length>=4?e.value=t.replace(/(\d{2})(\d{2})/,"$1/$2"):e.value=t}))}function ae(e,r){if(e.className="cubfirst-card",e.style.cssText="border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); padding: 1rem; background: white; display: flex; flex-direction: column; gap: 0.5rem;",r.image){let t=document.createElement("img");t.src=r.image,t.alt=r.title||"",t.style.cssText="border-radius: 6px; width: 100%; object-fit: cover;",e.appendChild(t)}if(r.title){let t=document.createElement("h3");t.textContent=r.title,t.style.cssText="font-size: 1.25rem; font-weight: bold; margin: 0;",e.appendChild(t)}if(r.content){let t=document.createElement("p");t.textContent=r.content,t.style.cssText="font-size: 0.875rem; color: #6b7280; margin: 0;",e.appendChild(t)}if(r.footer){let t=document.createElement("div");t.textContent=r.footer,t.style.cssText="font-size: 0.75rem; color: #9ca3af; padding-top: 0.5rem; border-top: 1px solid #e5e7eb;",e.appendChild(t)}}function oe(e,r){let t=r.value||0,i=r.max||5,a=r.readonly||!1;e.classList.add("cubfirst-rating");let n=()=>{e.innerHTML="";for(let o=1;o<=i;o++){let u=document.createElement("span");u.textContent="\u2605",u.dataset.value=o.toString(),u.style.cursor=a?"default":"pointer",u.style.color=o<=t?"#fbbf24":"#d1d5db",a||u.addEventListener("click",()=>{t=o,n(),e.dispatchEvent(new CustomEvent("ratingChanged",{detail:{rating:o}}))}),e.appendChild(u)}},c={setValue:o=>{o>=0&&o<=i&&(t=o,n(),e.dispatchEvent(new CustomEvent("ratingChanged",{detail:{rating:o}})))},getValue:()=>t,setMax:o=>{o>0&&(i=o,t>i&&(t=i),n())},getMax:()=>i,setReadonly:o=>{a=o,n()},isReadonly:()=>a};e.ratingAPI=c,w.register(e,()=>{delete e.ratingAPI}),n()}function ce(e,r){let t=Array.from(document.querySelectorAll(r.target)),i=0,a=r.batch||3,n=()=>{t.slice(i,i+a).forEach(o=>{o.style.display="",o.removeAttribute("hidden")}),i+=a,i>=t.length&&(e.style.display="none")};t.forEach((c,o)=>{o>=a&&(c.style.display="none",c.setAttribute("hidden","true"))}),e.addEventListener("click",n),n(),i=a}function de(e,r){let t=document.querySelector(r.target);if(!t)return;if(!e.querySelector("span")){e.className="cubfirst-hamburger";for(let a=0;a<3;a++){let n=document.createElement("span");e.appendChild(n)}}let i=()=>{t.style.display==="none"||t.hasAttribute("hidden")?(t.style.display="",t.removeAttribute("hidden")):(t.style.display="none",t.setAttribute("hidden","true")),e.classList.toggle("is-active")};e.addEventListener("click",a=>{a.stopPropagation(),i()}),document.addEventListener("click",a=>{!t.contains(a.target)&&!e.contains(a.target)&&(t.style.display="none",t.setAttribute("hidden","true"),e.classList.remove("is-active"))})}function le(e,r){let t=document.querySelectorAll(r.target);e.addEventListener("click",()=>{t.forEach(i=>{(i.dataset.tag||"").includes(r.value)||r.value==="all"?(i.style.display="",i.removeAttribute("hidden")):(i.style.display="none",i.setAttribute("hidden","true"))})})}function ue(e){e.style.transition="all 0.3s ease",e.style.cursor="pointer",e.addEventListener("click",()=>{e.classList.toggle("cubfirst-grid-expanded")?Object.assign(e.style,{transform:"scale(1.05)",zIndex:"10",position:"relative",boxShadow:"0 10px 20px rgba(0,0,0,0.2)"}):Object.assign(e.style,{transform:"scale(1)",zIndex:"",position:"",boxShadow:""})})}function be(e,r){let t=r.value||0,i=r.max||100,a=r.type||"bar",n=r.showText!==!1,c=r.animated!==!1,o=r.color||"#3b82f6",u=r.size||120;t=Math.max(0,Math.min(t,i));let b=t/i*100;e.classList.add("cubfirst-progress");let l=()=>{if(a==="bar"){e.innerHTML="";let d=document.createElement("div");d.className="cubfirst-progress-bar",d.style.width=`${b}%`,d.style.backgroundColor=o,n&&(d.textContent=`${Math.round(b)}%`,d.style.color="white",d.style.textAlign="center",d.style.lineHeight="8px",d.style.fontSize="0.75rem"),e.appendChild(d)}else if(a==="circle"){e.className="cubfirst-progress-circle",e.style.width=`${u}px`,e.style.height=`${u}px`;let d=(u-16)/2,f=2*Math.PI*d,m=f,h=f-b/100*f;e.innerHTML=`
        <svg>
          <circle class="progress-ring" cx="${u/2}" cy="${u/2}" r="${d}"></circle>
          <circle class="progress-ring-fill" cx="${u/2}" cy="${u/2}" r="${d}" 
                  stroke="${o}" stroke-dasharray="${m}" 
                  stroke-dashoffset="${h}"></circle>
        </svg>
        ${n?`<div class="progress-text">${Math.round(b)}%</div>`:""}
      `}else a==="steps"&&r.steps&&(e.className="cubfirst-progress-steps",e.innerHTML="",r.steps.forEach((d,f)=>{var h;let m=document.createElement("div");m.className="cubfirst-progress-step",m.textContent=(f+1).toString(),m.title=d.label,d.completed?m.classList.add("completed"):f===Math.floor(t/i*(((h=r.steps)==null?void 0:h.length)||0))?m.classList.add("current"):m.classList.add("pending"),e.appendChild(m)}));e.dispatchEvent(new CustomEvent("progressUpdate",{detail:{value:t,max:i,percentage:b,type:a}}))},s={setValue:d=>{t=Math.max(0,Math.min(d,i)),l()},setMax:d=>{i=d,t=Math.max(0,Math.min(t,i)),l()},setColor:d=>{o=d,l()},setType:d=>{a=d,l()},getValue:()=>t,getMax:()=>i,getPercentage:()=>b,increment:(d=1)=>{s.setValue(t+d)},decrement:(d=1)=>{s.setValue(t-d)},reset:()=>{s.setValue(0)},complete:()=>{s.setValue(i)}};e.progressBarAPI=s,w.register(e,()=>{delete e.progressBarAPI}),l()}function fe(e,r){let t=[],i=!1;e.classList.add("cubfirst-file-upload");let a=()=>{let s=document.createElement("div");return s.className="cubfirst-file-list",t.forEach((d,f)=>{let m=document.createElement("div");m.className="cubfirst-file-item";let h=document.createElement("div");h.className="cubfirst-file-item-icon",h.textContent=n(d.type);let y=document.createElement("div");y.className="cubfirst-file-item-info";let v=document.createElement("div");v.className="cubfirst-file-item-name",v.textContent=d.name;let T=document.createElement("div");T.className="cubfirst-file-item-size",T.textContent=c(d.size),y.appendChild(h),y.appendChild(v),y.appendChild(T);let p=document.createElement("button");p.className="cubfirst-file-item-remove",p.innerHTML="\xD7",p.onclick=()=>o(f),m.appendChild(y),m.appendChild(p),s.appendChild(m)}),s},n=s=>s.startsWith("image/")?"\u{1F5BC}\uFE0F":s.startsWith("video/")?"\u{1F3A5}":s.startsWith("audio/")?"\u{1F3B5}":s.includes("pdf")?"\u{1F4C4}":s.includes("word")?"\u{1F4DD}":s.includes("excel")?"\u{1F4CA}":s.includes("powerpoint")?"\u{1F4C8}":"\u{1F4C1}",c=s=>{if(s===0)return"0 Bytes";let d=1024,f=["Bytes","KB","MB","GB"],m=Math.floor(Math.log(s)/Math.log(d));return parseFloat((s/Math.pow(d,m)).toFixed(2))+" "+f[m]},o=s=>{t.splice(s,1),u(),e.dispatchEvent(new CustomEvent("fileRemove",{detail:{files:t}}))},u=()=>{e.innerHTML=`
      <div class="cubfirst-file-upload-icon">\u{1F4C1}</div>
      <div class="cubfirst-file-upload-text">Glissez-d\xE9posez vos fichiers ici</div>
      <div class="cubfirst-file-upload-hint">ou cliquez pour s\xE9lectionner</div>
      <input type="file" ${r.multiple?"multiple":""} ${r.accept?`accept="${r.accept}"`:""}>
    `,t.length>0&&e.appendChild(a())},b=s=>{let d=Array.from(s);if(r.maxSize){let f=d.filter(m=>m.size>r.maxSize);if(f.length>0){alert(`Fichiers trop volumineux: ${f.map(m=>m.name).join(", ")}`);return}}if(r.maxFiles&&t.length+d.length>r.maxFiles){alert(`Maximum ${r.maxFiles} fichiers autoris\xE9s`);return}t.push(...d),u(),e.dispatchEvent(new CustomEvent("fileAdd",{detail:{files:t}}))};e.addEventListener("click",()=>{e.querySelector('input[type="file"]').click()}),e.addEventListener("dragover",s=>{s.preventDefault(),e.classList.add("dragover")}),e.addEventListener("dragleave",()=>{e.classList.remove("dragover")}),e.addEventListener("drop",s=>{s.preventDefault(),e.classList.remove("dragover"),b(s.dataTransfer.files)}),e.addEventListener("change",s=>{let d=s.target;d.files&&b(d.files)});let l={upload:()=>P(this,null,function*(){var s,d;if(!(!r.endpoint||t.length===0)){i=!0,e.dispatchEvent(new CustomEvent("uploadStart",{detail:{files:t}}));for(let f of t){let m=new FormData;m.append("file",f);try{let h=yield fetch(r.endpoint,{method:"POST",body:m});if(h.ok){let y=yield h.json();(s=r.onComplete)==null||s.call(r,f,y),e.dispatchEvent(new CustomEvent("uploadComplete",{detail:{file:f,result:y}}))}else throw new Error(`HTTP ${h.status}`)}catch(h){let y=h instanceof Error?h.message:"Erreur inconnue";(d=r.onError)==null||d.call(r,f,y),e.dispatchEvent(new CustomEvent("uploadError",{detail:{file:f,error:y}}))}}i=!1,e.dispatchEvent(new CustomEvent("uploadEnd",{detail:{files:t}}))}}),clear:()=>{t=[],u(),e.dispatchEvent(new CustomEvent("fileClear",{detail:{files:t}}))},getFiles:()=>t,addFiles:s=>{t.push(...s),u()},removeFile:s=>o(s),isUploading:()=>i};e.fileUploadAPI=l,w.register(e,()=>{delete e.fileUploadAPI}),u()}function me(e,r){let t=null,i=new Date().getMonth(),a=new Date().getFullYear(),n=!1;e.classList.add("cubfirst-date-picker");let c=d=>{let f=r.format||"dd/mm/yyyy",m=d.getDate().toString().padStart(2,"0"),h=(d.getMonth()+1).toString().padStart(2,"0"),y=d.getFullYear();return f.replace("dd",m).replace("mm",h).replace("yyyy",y.toString())},o=()=>{let d=document.createElement("div");d.className="cubfirst-date-picker-calendar",d.style.display="none";let f=document.createElement("div");f.className="cubfirst-date-picker-header";let m=document.createElement("button");m.className="cubfirst-date-picker-nav",m.innerHTML="\u2039",m.onclick=()=>{i--,i<0&&(i=11,a--),p()};let h=document.createElement("button");h.className="cubfirst-date-picker-nav",h.innerHTML="\u203A",h.onclick=()=>{i++,i>11&&(i=0,a++),p()};let y=document.createElement("div");y.className="cubfirst-date-picker-month";let v=document.createElement("div");v.className="cubfirst-date-picker-grid",["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"].forEach(C=>{let L=document.createElement("div");L.textContent=C,L.style.fontWeight="600",L.style.color="#6b7280",v.appendChild(L)});let p=()=>{y.textContent=new Date(a,i).toLocaleDateString("fr-FR",{month:"long",year:"numeric"}),v.querySelectorAll(".cubfirst-date-picker-day").forEach(E=>E.remove());let L=new Date(a,i,1),x=new Date(a,i+1,0),g=new Date(L);g.setDate(g.getDate()-L.getDay());for(let E=0;E<42;E++){let k=new Date(g);k.setDate(g.getDate()+E);let M=document.createElement("div");M.className="cubfirst-date-picker-day",M.textContent=k.getDate().toString(),k.getMonth()!==i&&M.classList.add("other-month"),k.toDateString()===new Date().toDateString()&&M.classList.add("today"),t&&k.toDateString()===t.toDateString()&&M.classList.add("selected"),M.onclick=()=>{var S;t=k,e.querySelector("input").value=c(k),d.style.display="none",n=!1,(S=r.onSelect)==null||S.call(r,k),e.dispatchEvent(new CustomEvent("dateSelect",{detail:{date:k}}))},v.appendChild(M)}};return f.appendChild(m),f.appendChild(y),f.appendChild(h),d.appendChild(f),d.appendChild(v),{calendar:d,updateCalendar:p}},{calendar:u,updateCalendar:b}=o();e.innerHTML=`
    <input type="text" placeholder="${r.placeholder||"S\xE9lectionner une date"}" readonly>
  `,e.appendChild(u);let l=e.querySelector("input");l.addEventListener("click",()=>{n=!n,u.style.display=n?"block":"none",n&&b()}),document.addEventListener("click",d=>{e.contains(d.target)||(u.style.display="none",n=!1)});let s={setDate:d=>{t=d,l.value=c(d),b()},getDate:()=>t,clear:()=>{t=null,l.value="",b()},open:()=>{u.style.display="block",n=!0,b()},close:()=>{u.style.display="none",n=!1}};e.datePickerAPI=s,w.register(e,()=>{delete e.datePickerAPI})}function pe(e,r){let t=r.defaultColor||"#3b82f6",i=!1;e.classList.add("cubfirst-color-picker");let a=["#ef4444","#f97316","#f59e0b","#eab308","#84cc16","#22c55e","#10b981","#14b8a6","#06b6d4","#0ea5e9","#3b82f6","#6366f1","#8b5cf6","#a855f7","#d946ef","#ec4899","#f43f5e","#6b7280"],n=r.colors||a,c=()=>{let l=document.createElement("div");return l.className="cubfirst-color-picker-palette",l.style.display="none",n.forEach(s=>{let d=document.createElement("div");d.className="cubfirst-color-picker-color",d.style.backgroundColor=s,s===t&&d.classList.add("selected"),d.onclick=()=>{var f;t=s,o.style.backgroundColor=s,l.style.display="none",i=!1,(f=r.onSelect)==null||f.call(r,s),e.dispatchEvent(new CustomEvent("colorSelect",{detail:{color:s}}))},l.appendChild(d)}),l},o=document.createElement("input");o.type="color",o.className="cubfirst-color-picker-input",o.value=t,o.style.backgroundColor=t;let u=c();e.appendChild(o),e.appendChild(u),o.addEventListener("click",l=>{l.preventDefault(),i=!i,u.style.display=i?"grid":"none"}),o.addEventListener("change",l=>{var d;t=l.target.value,(d=r.onSelect)==null||d.call(r,t),e.dispatchEvent(new CustomEvent("colorSelect",{detail:{color:t}}))}),document.addEventListener("click",l=>{e.contains(l.target)||(u.style.display="none",i=!1)});let b={setColor:l=>{t=l,o.value=l,o.style.backgroundColor=l},getColor:()=>t,open:()=>{u.style.display="grid",i=!0},close:()=>{u.style.display="none",i=!1}};e.colorPickerAPI=b,w.register(e,()=>{delete e.colorPickerAPI})}function he(e,r){let t=r.value||r.min||0,i=r.min||0,a=r.max||100,n=r.step||1,c=!1;e.classList.add("cubfirst-slider");let o=document.createElement("div");o.className="cubfirst-slider-track";let u=document.createElement("div");u.className="cubfirst-slider-thumb";let b=document.createElement("div");b.className="cubfirst-slider-value",b.style.display=r.showValue!==!1?"block":"none",e.appendChild(o),e.appendChild(u),e.appendChild(b);let l=()=>{let y=(t-i)/(a-i)*100;o.style.width=`${y}%`,u.style.left=`${y}%`,b.textContent=t.toString(),b.style.left=`${y}%`},s=y=>{var v;t=Math.max(i,Math.min(a,y)),l(),(v=r.onChange)==null||v.call(r,t),e.dispatchEvent(new CustomEvent("sliderChange",{detail:{value:t}}))},d=y=>{c=!0,document.addEventListener("mousemove",f),document.addEventListener("mouseup",m)},f=y=>{if(!c)return;let v=e.getBoundingClientRect(),T=Math.max(0,Math.min(100,(y.clientX-v.left)/v.width*100)),p=i+T/100*(a-i);s(Math.round(p/n)*n)},m=()=>{c=!1,document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",m)};e.addEventListener("mousedown",d);let h={setValue:s,getValue:()=>t,setMin:y=>{i=y,s(t)},setMax:y=>{a=y,s(t)},setStep:y=>{n=y}};e.sliderAPI=h,w.register(e,()=>{delete e.sliderAPI}),l()}function ge(e,r){let t=r.checked||!1,i=r.disabled||!1;e.classList.add("cubfirst-switch"),e.innerHTML=`
    <input type="checkbox" ${t?"checked":""} ${i?"disabled":""}>
    <span class="cubfirst-switch-slider"></span>
  `;let a=e.querySelector("input"),n=e.querySelector(".cubfirst-switch-slider"),c=()=>{a.checked=t,a.disabled=i};a.addEventListener("change",u=>{var b;t=a.checked,(b=r.onChange)==null||b.call(r,t),e.dispatchEvent(new CustomEvent("switchChange",{detail:{checked:t}}))});let o={setChecked:u=>{t=u,c()},getChecked:()=>t,setDisabled:u=>{i=u,c()},toggle:()=>{o.setChecked(!t)}};e.switchAPI=o,w.register(e,()=>{delete e.switchAPI}),c()}function ye(e,r){e.classList.add("cubfirst-breadcrumb");let t=r.separator||">",i=()=>{e.innerHTML="",r.items.forEach((n,c)=>{let o=document.createElement(n.href?"a":"span");if(o.className="cubfirst-breadcrumb-item",n.active&&o.classList.add("active"),n.href&&(o.href=n.href),o.textContent=n.label,e.appendChild(o),c<r.items.length-1){let u=document.createElement("span");u.className="cubfirst-breadcrumb-separator",u.textContent=t,e.appendChild(u)}})},a={setItems:n=>{r.items=n,i()},addItem:n=>{r.items.push(n),i()},removeItem:n=>{r.items.splice(n,1),i()},getItems:()=>r.items};e.breadcrumbAPI=a,w.register(e,()=>{delete e.breadcrumbAPI}),i()}function ve(e,r){let t=r.currentPage||1,i=Math.ceil(r.total/r.perPage);e.classList.add("cubfirst-pagination");let a=()=>{e.innerHTML="";let c=document.createElement("button");c.className="cubfirst-pagination-button",c.textContent="\u2039",c.disabled=t===1,c.onclick=()=>{var l;t>1&&(t--,a(),(l=r.onChange)==null||l.call(r,t),e.dispatchEvent(new CustomEvent("pageChange",{detail:{page:t}})))},e.appendChild(c);let o=r.showEllipsis!==!1;if(i<=5)for(let l=1;l<=i;l++){let s=document.createElement("button");s.className="cubfirst-pagination-button",s.textContent=l.toString(),l===t&&s.classList.add("active"),s.onclick=()=>{var d;t=l,a(),(d=r.onChange)==null||d.call(r,t),e.dispatchEvent(new CustomEvent("pageChange",{detail:{page:t}}))},e.appendChild(s)}else{let l=Math.max(1,t-2),s=Math.min(i,t+2);if(l>1){let d=document.createElement("button");if(d.className="cubfirst-pagination-button",d.textContent="1",d.onclick=()=>{var f;t=1,a(),(f=r.onChange)==null||f.call(r,t),e.dispatchEvent(new CustomEvent("pageChange",{detail:{page:t}}))},e.appendChild(d),l>2){let f=document.createElement("span");f.className="cubfirst-pagination-ellipsis",f.textContent="...",e.appendChild(f)}}for(let d=l;d<=s;d++){let f=document.createElement("button");f.className="cubfirst-pagination-button",f.textContent=d.toString(),d===t&&f.classList.add("active"),f.onclick=()=>{var m;t=d,a(),(m=r.onChange)==null||m.call(r,t),e.dispatchEvent(new CustomEvent("pageChange",{detail:{page:t}}))},e.appendChild(f)}if(s<i){if(s<i-1){let f=document.createElement("span");f.className="cubfirst-pagination-ellipsis",f.textContent="...",e.appendChild(f)}let d=document.createElement("button");d.className="cubfirst-pagination-button",d.textContent=i.toString(),d.onclick=()=>{var f;t=i,a(),(f=r.onChange)==null||f.call(r,t),e.dispatchEvent(new CustomEvent("pageChange",{detail:{page:t}}))},e.appendChild(d)}}let b=document.createElement("button");b.className="cubfirst-pagination-button",b.textContent="\u203A",b.disabled=t===i,b.onclick=()=>{var l;t<i&&(t++,a(),(l=r.onChange)==null||l.call(r,t),e.dispatchEvent(new CustomEvent("pageChange",{detail:{page:t}})))},e.appendChild(b)},n={setPage:c=>{c>=1&&c<=i&&(t=c,a())},getPage:()=>t,getTotalPages:()=>i,next:()=>{t<i&&n.setPage(t+1)},prev:()=>{t>1&&n.setPage(t-1)}};e.paginationAPI=n,w.register(e,()=>{delete e.paginationAPI}),a()}function xe(e,r){let t=document.querySelector(r.trigger);if(!t)return;let i=!1,a=r.position||"left",n=r.width||"300px";e.classList.add("cubfirst-sidebar"),e.style.width=n,e.style[a]=`-${n}`,a==="right"&&(e.style.left="auto",e.style.right=`-${n}`);let c=document.createElement("div");c.className="cubfirst-sidebar-overlay",document.body.appendChild(c);let o=()=>{i=!0,e.classList.add("open"),r.overlay!==!1&&c.classList.add("show"),document.body.style.overflow="hidden",e.dispatchEvent(new CustomEvent("sidebarOpen"))},u=()=>{i=!1,e.classList.remove("open"),c.classList.remove("show"),document.body.style.overflow="",e.dispatchEvent(new CustomEvent("sidebarClose"))};t.addEventListener("click",o),c.addEventListener("click",u);let b={open:o,close:u,toggle:()=>i?u():o(),isOpen:()=>i};e.sidebarAPI=b,w.register(e,()=>{c.remove(),delete e.sidebarAPI})}function we(e,r){let t=r.offset||0,i=r.zIndex||10,a=!1;e.classList.add("cubfirst-sticky"),e.style.zIndex=i.toString();let n=()=>{var b,l;let u=e.getBoundingClientRect().top<=t;u&&!a?(a=!0,e.style.position="fixed",e.style.top=`${t}px`,(b=r.onStick)==null||b.call(r),e.dispatchEvent(new CustomEvent("sticky"))):!u&&a&&(a=!1,e.style.position="",e.style.top="",(l=r.onUnstick)==null||l.call(r),e.dispatchEvent(new CustomEvent("unsticky")))};window.addEventListener("scroll",n);let c={isSticky:()=>a,setOffset:o=>{}};e.stickyAPI=c,w.register(e,()=>{window.removeEventListener("scroll",n),delete e.stickyAPI})}function ke(e,r){let t=r.type||"info",i=r.dismissible!==!1,a=r.duration||0;e.classList.add("cubfirst-alert",t);let n={success:"\u2705",error:"\u274C",warning:"\u26A0\uFE0F",info:"\u2139\uFE0F"};e.innerHTML=`
    <div class="cubfirst-alert-icon">${n[t]}</div>
    <div class="cubfirst-alert-content">
      ${r.title?`<div class="cubfirst-alert-title">${r.title}</div>`:""}
      <div class="cubfirst-alert-message">${r.message}</div>
    </div>
    ${i?'<button class="cubfirst-alert-close">\xD7</button>':""}
  `;let c=e.querySelector(".cubfirst-alert-close");c&&c.addEventListener("click",()=>{var u;e.remove(),(u=r.onClose)==null||u.call(r),e.dispatchEvent(new CustomEvent("alertClose"))}),a>0&&setTimeout(()=>{var u;e.remove(),(u=r.onClose)==null||u.call(r),e.dispatchEvent(new CustomEvent("alertClose"))},a);let o={close:()=>{var u;e.remove(),(u=r.onClose)==null||u.call(r),e.dispatchEvent(new CustomEvent("alertClose"))},setMessage:u=>{let b=e.querySelector(".cubfirst-alert-message");b&&(b.textContent=u)}};e.alertAPI=o,w.register(e,()=>{delete e.alertAPI})}function Ee(e,r){let t=r.lines||3,i=r.type||"line";if(e.classList.add("cubfirst-skeleton"),i==="line")for(let n=0;n<t;n++){let c=document.createElement("div");c.className="cubfirst-skeleton-line",r.width&&(c.style.width=r.width),r.height&&(c.style.height=r.height),e.appendChild(c)}else if(i==="circle"){let n=document.createElement("div");n.className="cubfirst-skeleton-circle",r.width&&(n.style.width=r.width),r.height&&(n.style.height=r.height),e.appendChild(n)}else if(i==="rect"){let n=document.createElement("div");n.className="cubfirst-skeleton-rect",r.width&&(n.style.width=r.width),r.height&&(n.style.height=r.height),e.appendChild(n)}let a={show:()=>e.style.display="",hide:()=>e.style.display="none",setLines:n=>{e.innerHTML="";for(let c=0;c<n;c++){let o=document.createElement("div");o.className="cubfirst-skeleton-line",e.appendChild(o)}}};e.skeletonAPI=a,w.register(e,()=>{delete e.skeletonAPI})}function Le(e,r){e.classList.add("cubfirst-lazy-load");let t=new IntersectionObserver(a=>{a.forEach(n=>{var c;n.isIntersecting&&(e.classList.add("loaded"),t.unobserve(e),(c=r.onLoad)==null||c.call(r),e.dispatchEvent(new CustomEvent("lazyLoad")))})},{threshold:r.threshold||.1,rootMargin:r.rootMargin||"0px"});t.observe(e);let i={load:()=>{e.classList.add("loaded"),t.unobserve(e)},isLoaded:()=>e.classList.contains("loaded")};e.lazyLoadAPI=i,w.register(e,()=>{t.disconnect(),delete e.lazyLoadAPI})}function Ce(e,r){e.classList.add("cubfirst-search");let t=r.minLength||2,i=null;e.innerHTML=`
    <input type="text" class="cubfirst-search-input" placeholder="${r.placeholder||"Rechercher..."}">
    <button class="cubfirst-search-button">\u{1F50D}</button>
    <div class="cubfirst-search-results" style="display: none;"></div>
  `;let a=e.querySelector(".cubfirst-search-input"),n=e.querySelector(".cubfirst-search-results"),c=e.querySelector(".cubfirst-search-button"),o=b=>{var d;if(b.length<t){n.style.display="none";return}let l=document.querySelectorAll(r.target),s=[];l.forEach(f=>{var h;(((h=f.textContent)==null?void 0:h.toLowerCase())||"").includes(b.toLowerCase())&&s.push(f)}),s.length>0?(n.innerHTML="",s.forEach(f=>{let m=document.createElement("div");m.className="cubfirst-search-result",m.textContent=f.textContent||"",m.onclick=()=>{f.scrollIntoView({behavior:"smooth"}),n.style.display="none"},n.appendChild(m)}),n.style.display="block"):n.style.display="none",(d=r.onSearch)==null||d.call(r,b,s),e.dispatchEvent(new CustomEvent("search",{detail:{query:b,results:s}}))};a.addEventListener("input",b=>{let s=b.target.value;i&&clearTimeout(i),i=setTimeout(()=>{o(s)},300)}),c.addEventListener("click",()=>{o(a.value)}),document.addEventListener("click",b=>{e.contains(b.target)||(n.style.display="none")});let u={search:b=>{a.value=b,o(b)},clear:()=>{a.value="",n.style.display="none"},getQuery:()=>a.value};e.searchAPI=u,w.register(e,()=>{i&&clearTimeout(i),delete e.searchAPI})}function Te(e,r){e.classList.add("cubfirst-autocomplete");let t=r.minLength||1,i=null;e.innerHTML=`
    <input type="text" class="cubfirst-autocomplete-input" placeholder="Tapez pour rechercher...">
    <div class="cubfirst-autocomplete-dropdown" style="display: none;"></div>
  `;let a=e.querySelector(".cubfirst-autocomplete-input"),n=e.querySelector(".cubfirst-autocomplete-dropdown"),c=b=>{n.innerHTML="",b.forEach(l=>{let s=document.createElement("div");s.className="cubfirst-autocomplete-item",s.textContent=l,s.onclick=()=>{var d;a.value=l,n.style.display="none",(d=r.onSelect)==null||d.call(r,l),e.dispatchEvent(new CustomEvent("autocompleteSelect",{detail:{item:l}}))},n.appendChild(s)}),n.style.display=b.length>0?"block":"none"},o=b=>P(this,null,function*(){if(b.length<t){n.style.display="none";return}try{let l;typeof r.source=="function"?l=yield r.source(b):l=r.source.filter(s=>s.toLowerCase().includes(b.toLowerCase())),c(l)}catch(l){console.error("Erreur autocomplete:",l),n.style.display="none"}});a.addEventListener("input",b=>{let s=b.target.value;i&&clearTimeout(i),i=setTimeout(()=>{o(s)},300)}),document.addEventListener("click",b=>{e.contains(b.target)||(n.style.display="none")});let u={setValue:b=>{a.value=b},getValue:()=>a.value,clear:()=>{a.value="",n.style.display="none"}};e.autocompleteAPI=u,w.register(e,()=>{i&&clearTimeout(i),delete e.autocompleteAPI})}function Me(e,r){e.classList.add("cubfirst-swipe");let t=r.threshold||50,i=0,a=0,n=0,c=0;e.addEventListener("touchstart",u=>{let b=u.touches[0];i=b.clientX,a=b.clientY}),e.addEventListener("touchend",u=>{var d,f,m,h;let b=u.changedTouches[0];n=b.clientX,c=b.clientY;let l=n-i,s=c-a;Math.abs(l)>Math.abs(s)?Math.abs(l)>t&&(l>0?((d=r.onSwipeRight)==null||d.call(r),e.dispatchEvent(new CustomEvent("swipeRight"))):((f=r.onSwipeLeft)==null||f.call(r),e.dispatchEvent(new CustomEvent("swipeLeft")))):Math.abs(s)>t&&(s>0?((m=r.onSwipeDown)==null||m.call(r),e.dispatchEvent(new CustomEvent("swipeDown"))):((h=r.onSwipeUp)==null||h.call(r),e.dispatchEvent(new CustomEvent("swipeUp"))))});let o={setThreshold:u=>{}};e.swipeAPI=o,w.register(e,()=>{delete e.swipeAPI})}function Se(e,r){let t=r.data||[],i=[...t],a="",n="asc",c=1,o=r.perPage||10,u="",b={},l=new Set;e.classList.add("cubfirst-data-table-container");let s=()=>{let p=(c-1)*o,C=p+o,L=i.slice(p,C),x=`
      <div class="cubfirst-data-table-toolbar">
        <div class="cubfirst-data-table-search">
          <input type="text" placeholder="Rechercher..." value="${u}">
        </div>
        <div class="cubfirst-data-table-filters">
          ${r.exportable?`
            <div class="cubfirst-data-table-export">
              <button onclick="exportData('csv')">CSV</button>
              <button onclick="exportData('json')">JSON</button>
            </div>
          `:""}
        </div>
      </div>
      
      <table class="cubfirst-data-table">
        <thead>
          <tr>
            ${r.selectable?'<th><input type="checkbox" id="select-all"></th>':""}
            ${r.columns.map(g=>`
              <th class="${g.sortable!==!1?"sortable":""}" data-column="${g.key}">
                ${g.title}
              </th>
            `).join("")}
          </tr>
        </thead>
        <tbody>
          ${L.length===0?`
            <tr>
              <td colspan="${r.columns.length+(r.selectable?1:0)}" class="cubfirst-data-table-empty">
                Aucune donn\xE9e trouv\xE9e
              </td>
            </tr>
          `:L.map((g,E)=>`
            <tr class="${l.has(p+E)?"selected":""}" data-index="${p+E}">
              ${r.selectable?`
                <td><input type="checkbox" ${l.has(p+E)?"checked":""}></td>
              `:""}
              ${r.columns.map(k=>`
                <td>${g[k.key]||""}</td>
              `).join("")}
            </tr>
          `).join("")}
        </tbody>
      </table>
      
      ${r.pagination!==!1?`
        <div class="cubfirst-data-table-pagination">
          <div class="cubfirst-data-table-info">
            Affichage de ${p+1} \xE0 ${Math.min(C,i.length)} sur ${i.length} r\xE9sultats
          </div>
          <div class="cubfirst-data-table-export">
            <button onclick="previousPage()" ${c===1?"disabled":""}>\u2039</button>
            <span>Page ${c} sur ${Math.ceil(i.length/o)}</span>
            <button onclick="nextPage()" ${c>=Math.ceil(i.length/o)?"disabled":""}>\u203A</button>
          </div>
        </div>
      `:""}
    `;e.innerHTML=x,d()},d=()=>{let p=e.querySelector(".cubfirst-data-table-search input");p&&p.addEventListener("input",L=>{var x;u=L.target.value,f(),(x=r.onSearch)==null||x.call(r,u)}),e.querySelectorAll("th.sortable").forEach(L=>{L.addEventListener("click",()=>{var g;let x=L.dataset.column;a===x?n=n==="asc"?"desc":"asc":(a=x,n="asc"),m(),(g=r.onSort)==null||g.call(r,x,n)})}),e.querySelectorAll("tbody tr").forEach(L=>{L.addEventListener("click",x=>{var g;if(x.target.tagName!=="INPUT"){let E=parseInt(L.dataset.index),k=t[E];(g=r.onRowClick)==null||g.call(r,k,E)}})});let C=e.querySelector("#select-all");C&&C.addEventListener("change",L=>{let x=L.target.checked;e.querySelectorAll('tbody input[type="checkbox"]').forEach((E,k)=>{E.checked=x,x?l.add((c-1)*o+k):l.delete((c-1)*o+k)})}),e.querySelectorAll('tbody input[type="checkbox"]').forEach((L,x)=>{L.addEventListener("change",g=>{let E=g.target.checked,k=(c-1)*o+x;E?l.add(k):l.delete(k)})})},f=()=>{i=t.filter(p=>u?r.columns.some(C=>String(p[C.key]||"").toLowerCase().includes(u.toLowerCase())):!0),c=1,s()},m=()=>{a&&i.sort((p,C)=>{let L=p[a],x=C[a];return L<x?n==="asc"?-1:1:L>x?n==="asc"?1:-1:0}),s()},h=p=>{var L;let C=l.size>0?Array.from(l).map(x=>t[x]):i;if(p==="csv"){let x=r.columns.map(H=>H.title).join(","),g=C.map(H=>r.columns.map(B=>`"${H[B.key]||""}"`).join(",")),E=[x,...g].join(`
`),k=new Blob([E],{type:"text/csv"}),M=URL.createObjectURL(k),S=document.createElement("a");S.href=M,S.download="data.csv",S.click(),URL.revokeObjectURL(M)}else if(p==="json"){let x=JSON.stringify(C,null,2),g=new Blob([x],{type:"application/json"}),E=URL.createObjectURL(g),k=document.createElement("a");k.href=E,k.download="data.json",k.click(),URL.revokeObjectURL(E)}(L=r.onExport)==null||L.call(r,p)},y=()=>{c>1&&(c--,s())},v=()=>{c<Math.ceil(i.length/o)&&(c++,s())};window.exportData=h,window.previousPage=y,window.nextPage=v;let T={setData:p=>{t=p,i=[...t],c=1,s()},getData:()=>t,getFilteredData:()=>i,getSelectedRows:()=>Array.from(l).map(p=>t[p]),clearSelection:()=>{l.clear(),s()},setPage:p=>{c=p,s()},setPerPage:p=>{o=p,c=1,s()},search:p=>{u=p,f()},sort:(p,C)=>{a=p,n=C,m()},export:p=>h(p)};e.dataTableAPI=T,w.register(e,()=>{delete e.dataTableAPI,delete window.exportData,delete window.previousPage,delete window.nextPage}),s()}function Pe(e,r){let t="",i=!1,a=r.format||"24h";e.classList.add("cubfirst-time-picker");let n=(l,s)=>{if(a==="12h"){let d=l>=12?"PM":"AM";return`${(l===0?12:l>12?l-12:l).toString().padStart(2,"0")}:${s.toString().padStart(2,"0")} ${d}`}else return`${l.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`},c=l=>{var h;if(!l)return{hours:0,minutes:0};let s=l.match(/(\d{1,2}):(\d{2})(?:\s*(AM|PM))?/i);if(!s)return{hours:0,minutes:0};let d=parseInt(s[1]),f=parseInt(s[2]),m=(h=s[3])==null?void 0:h.toUpperCase();return a==="12h"&&m&&(m==="PM"&&d!==12&&(d+=12),m==="AM"&&d===12&&(d=0)),{hours:d,minutes:f}},o=()=>{let{hours:l,minutes:s}=c(t);e.innerHTML=`
      <input type="text" placeholder="${r.placeholder||"S\xE9lectionner une heure"}" readonly>
      <div class="cubfirst-time-picker-dropdown" style="display: none;">
        <div class="cubfirst-time-picker-grid">
          <div class="cubfirst-time-picker-inputs">
            <input type="number" min="0" max="${a==="12h"?"12":"23"}" value="${a==="12h"?l===0?12:l>12?l-12:l:l}" id="hours">
            <span class="cubfirst-time-picker-separator">:</span>
            <input type="number" min="0" max="59" value="${s}" id="minutes">
            ${a==="12h"?`
              <select id="period">
                <option value="AM" ${l<12?"selected":""}>AM</option>
                <option value="PM" ${l>=12?"selected":""}>PM</option>
              </select>
            `:""}
          </div>
          <div class="cubfirst-time-picker-format">
            <button class="${a==="24h"?"active":""}" onclick="setFormat('24h')">24h</button>
            <button class="${a==="12h"?"active":""}" onclick="setFormat('12h')">12h</button>
          </div>
        </div>
      </div>
    `;let d=e.querySelector("input"),f=e.querySelector("#hours"),m=e.querySelector("#minutes"),h=e.querySelector("#period"),y=()=>{var p;let v=parseInt(f.value)||0,T=parseInt(m.value)||0;if(a==="12h"){let C=(h==null?void 0:h.value)||"AM";C==="PM"&&v!==12&&(v+=12),C==="AM"&&v===12&&(v=0)}t=n(v,T),d.value=t,(p=r.onSelect)==null||p.call(r,t),e.dispatchEvent(new CustomEvent("timeSelect",{detail:{time:t}}))};f.addEventListener("input",y),m.addEventListener("input",y),h==null||h.addEventListener("change",y),d.addEventListener("click",()=>{i=!i;let v=e.querySelector(".cubfirst-time-picker-dropdown");v.style.display=i?"block":"none"}),document.addEventListener("click",v=>{if(!e.contains(v.target)){i=!1;let T=e.querySelector(".cubfirst-time-picker-dropdown");T.style.display="none"}})},u=l=>{a=l,o()};window.setFormat=u;let b={setTime:l=>{t=l;let s=e.querySelector("input");s&&(s.value=l)},getTime:()=>t,setFormat:l=>{a=l,o()},open:()=>{i=!0;let l=e.querySelector(".cubfirst-time-picker-dropdown");l&&(l.style.display="block",I()&&(l.style.position="fixed",l.style.top="50%",l.style.left="50%",l.style.transform="translate(-50%, -50%)",l.style.width="90vw",l.style.maxWidth="300px",l.style.zIndex="9999"))},close:()=>{i=!1;let l=e.querySelector(".cubfirst-time-picker-dropdown");l&&(l.style.display="none")}};e.timePickerAPI=b,w.register(e,()=>{delete e.timePickerAPI,delete window.setFormat}),o()}function Ae(e,r){let t=[],i=!1,a="";e.classList.add("cubfirst-multi-select");let n=()=>r.options.filter(s=>t.includes(s.value)),c=()=>{let s=n();e.innerHTML=`
      <div class="cubfirst-multi-select-input">
        <div class="cubfirst-multi-select-tags">
          ${s.map(d=>`
            <div class="cubfirst-multi-select-tag">
              ${d.label}
              <button class="cubfirst-multi-select-tag-remove" onclick="removeSelection('${d.value}')">\xD7</button>
            </div>
          `).join("")}
        </div>
        <span>\u25BC</span>
      </div>
      <div class="cubfirst-multi-select-dropdown" style="display: none;">
        ${r.searchable!==!1?`
          <div class="cubfirst-multi-select-search">
            <input type="text" placeholder="Rechercher..." value="${a}">
          </div>
        `:""}
        <div class="cubfirst-multi-select-options">
          ${r.options.filter(d=>!a||d.label.toLowerCase().includes(a.toLowerCase())).map(d=>`
              <div class="cubfirst-multi-select-option ${t.includes(d.value)?"selected":""}" onclick="toggleSelection('${d.value}')">
                <input type="checkbox" ${t.includes(d.value)?"checked":""}>
                ${d.label}
              </div>
            `).join("")}
        </div>
      </div>
    `,o()},o=()=>{let s=e.querySelector(".cubfirst-multi-select-input"),d=e.querySelector(".cubfirst-multi-select-dropdown"),f=e.querySelector(".cubfirst-multi-select-search input");s.addEventListener("click",()=>{i=!i,d.style.display=i?"block":"none"}),f&&f.addEventListener("input",m=>{a=m.target.value,c()}),document.addEventListener("click",m=>{e.contains(m.target)||(i=!1,d.style.display="none")})},u=s=>{var d;if(t.includes(s))t=t.filter(f=>f!==s);else{if(r.maxSelections&&t.length>=r.maxSelections)return;t.push(s)}c(),(d=r.onSelect)==null||d.call(r,t),e.dispatchEvent(new CustomEvent("multiSelectChange",{detail:{selected:t}}))},b=s=>{var d;t=t.filter(f=>f!==s),c(),(d=r.onSelect)==null||d.call(r,t),e.dispatchEvent(new CustomEvent("multiSelectChange",{detail:{selected:t}}))};window.toggleSelection=u,window.removeSelection=b;let l={setSelected:s=>{t=s,c()},getSelected:()=>t,addSelection:s=>{t.includes(s)||(!r.maxSelections||t.length<r.maxSelections)&&(t.push(s),c())},removeSelection:s=>{t=t.filter(d=>d!==s),c()},clear:()=>{t=[],c()},open:()=>{i=!0;let s=e.querySelector(".cubfirst-multi-select-dropdown");s&&(s.style.display="block",I()&&(s.style.position="fixed",s.style.top="50%",s.style.left="50%",s.style.transform="translate(-50%, -50%)",s.style.width="90vw",s.style.maxWidth="300px",s.style.maxHeight="60vh",s.style.zIndex="9999"))},close:()=>{i=!1;let s=e.querySelector(".cubfirst-multi-select-dropdown");s&&(s.style.display="none")}};e.multiSelectAPI=l,w.register(e,()=>{delete e.multiSelectAPI,delete window.toggleSelection,delete window.removeSelection}),c()}function Ie(e,r){let t=!1,i=r.type||"spinner",a=r.size||"medium",n=r.color||"#3b82f6",c=r.text||"",o=r.overlay||!1,u=r.dark||!1;e.classList.add("cubfirst-loader");let b=()=>{let p="";i==="spinner"?p=`<div class="cubfirst-loader-spinner ${a}" style="border-top-color: ${n}"></div>`:i==="dots"?p=`
        <div class="cubfirst-loader-dots">
          <div class="cubfirst-loader-dot" style="background: ${n}"></div>
          <div class="cubfirst-loader-dot" style="background: ${n}"></div>
          <div class="cubfirst-loader-dot" style="background: ${n}"></div>
        </div>
      `:i==="bars"&&(p=`
        <div class="cubfirst-loader-bars">
          <div class="cubfirst-loader-bar" style="background: ${n}"></div>
          <div class="cubfirst-loader-bar" style="background: ${n}"></div>
          <div class="cubfirst-loader-bar" style="background: ${n}"></div>
          <div class="cubfirst-loader-bar" style="background: ${n}"></div>
          <div class="cubfirst-loader-bar" style="background: ${n}"></div>
        </div>
      `),c&&(p+=`<div class="cubfirst-loader-text">${c}</div>`),o?e.innerHTML=`
        <div class="cubfirst-loader-overlay ${u?"dark":""}">
          <div class="cubfirst-loader">
            ${p}
          </div>
        </div>
      `:e.innerHTML=p,r.autoShow!==!1&&l()},l=()=>{var p;t=!0,e.style.display="block",(p=r.onShow)==null||p.call(r),e.dispatchEvent(new CustomEvent("loaderShow"))},T={show:l,hide:()=>{var p;t=!1,e.style.display="none",(p=r.onHide)==null||p.call(r),e.dispatchEvent(new CustomEvent("loaderHide"))},isVisible:()=>t,setType:p=>{i=p,b()},setSize:p=>{a=p,b()},setColor:p=>{n=p,b()},setText:p=>{c=p,b()},setOverlay:p=>{o=p,b()},setDark:p=>{u=p,b()},getType:()=>i,getSize:()=>a,getColor:()=>n,getText:()=>c,getOverlay:()=>o,getDark:()=>u};e.loaderAPI=T,w.register(e,()=>{delete e.loaderAPI}),b()}function He(e,r){let t=r.position||"top",i=r.color||"#3b82f6",a=r.height||4,n=r.showPercentage||!1,c=r.smooth!==!1,o=!0,u=0;e.classList.add("cubfirst-progress-scroll");let b=()=>{t==="circle"?e.innerHTML=`
        <div class="cubfirst-progress-scroll-circle">
          <svg viewBox="0 0 100 100">
            <circle class="cubfirst-progress-scroll-circle-bg" cx="50" cy="50" r="45"></circle>
            <circle class="cubfirst-progress-scroll-circle-progress" cx="50" cy="50" r="45" 
                    stroke-dasharray="283" stroke-dashoffset="283" style="stroke: ${i}"></circle>
          </svg>
          ${n?'<div class="cubfirst-progress-scroll-circle-text">0%</div>':""}
        </div>
      `:(e.className=`cubfirst-progress-scroll ${t}`,e.style.height=t==="left"||t==="right"?"100%":`${a}px`,e.style.width=t==="left"||t==="right"?`${a}px`:"100%",e.innerHTML=`
        <div class="cubfirst-progress-scroll-bar" style="background: ${i}"></div>
      `)},l=x=>{var g;if(u=Math.max(0,Math.min(100,x)),t==="circle"){let E=e.querySelector(".cubfirst-progress-scroll-circle-progress"),k=e.querySelector(".cubfirst-progress-scroll-circle-text");if(E){let M=2*Math.PI*45,S=M-u/100*M;E.style.strokeDashoffset=S.toString()}k&&(k.textContent=`${Math.round(u)}%`)}else{let E=e.querySelector(".cubfirst-progress-scroll-bar");E&&(t==="left"||t==="right"?E.style.height=`${u}%`:E.style.width=`${u}%`)}(g=r.onProgress)==null||g.call(r,u),e.dispatchEvent(new CustomEvent("progressUpdate",{detail:{percentage:u}}))},s=()=>{let x=window.pageYOffset||document.documentElement.scrollTop,g=document.documentElement.scrollHeight-document.documentElement.clientHeight,E=g>0?x/g*100:0;l(E)},d=()=>{c?requestAnimationFrame(s):s()},L={show:()=>{o=!0,e.classList.remove("hidden")},hide:()=>{o=!1,e.classList.add("hidden")},isVisible:()=>o,setPosition:x=>{t=x,b()},setColor:x=>{i=x,b()},setHeight:x=>{a=x,b()},setShowPercentage:x=>{n=x,b()},setSmooth:x=>{c=x},getProgress:()=>u,getPosition:()=>t,getColor:()=>i,getHeight:()=>a,getShowPercentage:()=>n,getSmooth:()=>c};e.progressScrollAPI=L,window.addEventListener("scroll",d,{passive:!0}),window.addEventListener("resize",s,{passive:!0}),w.register(e,()=>{window.removeEventListener("scroll",d),window.removeEventListener("resize",s),delete e.progressScrollAPI}),b(),s()}function ze(e,r){let t=r.default||r.themes[0]||"light",i=r.themes||["light","dark"],a=r.persist!==!1,n=!1;if(e.classList.add("cubfirst-theme-switcher"),a){let s=localStorage.getItem("cubfirst-theme");s&&i.includes(s)&&(t=s)}let c=s=>{var d;document.documentElement.setAttribute("data-theme",s),t=s,a&&localStorage.setItem("cubfirst-theme",s),(d=r.onThemeChange)==null||d.call(r,s),e.dispatchEvent(new CustomEvent("themeChange",{detail:{theme:s}}))},o=()=>{e.innerHTML=`
      <button onclick="toggleThemeDropdown()">
        <div class="cubfirst-theme-preview ${t}"></div>
        <span>${t.charAt(0).toUpperCase()+t.slice(1)}</span>
        <span>\u25BC</span>
      </button>
      <div class="cubfirst-theme-dropdown" style="display: none;">
        ${i.map(s=>`
          <div class="cubfirst-theme-option ${s===t?"active":""}" 
               onclick="selectTheme('${s}')">
            <div class="cubfirst-theme-preview ${s}"></div>
            <span>${s.charAt(0).toUpperCase()+s.slice(1)}</span>
          </div>
        `).join("")}
      </div>
    `},u=()=>{n=!n;let s=e.querySelector(".cubfirst-theme-dropdown");s.style.display=n?"block":"none"},b=s=>{c(s),o(),n=!1;let d=e.querySelector(".cubfirst-theme-dropdown");d.style.display="none"};window.toggleThemeDropdown=u,window.selectTheme=b;let l={setTheme:s=>{i.includes(s)&&(c(s),o())},getTheme:()=>t,getThemes:()=>i,addTheme:s=>{i.includes(s)||(i.push(s),o())},removeTheme:s=>{i=i.filter(d=>d!==s),t===s&&i.length>0&&c(i[0]),o()}};e.themeSystemAPI=l,w.register(e,()=>{delete e.themeSystemAPI,delete window.toggleThemeDropdown,delete window.selectTheme}),document.addEventListener("click",s=>{if(!e.contains(s.target)){n=!1;let d=e.querySelector(".cubfirst-theme-dropdown");d.style.display="none"}}),o(),c(t)}function $e(e,r){let t=r.position||"bottom",i=r.title||"",a=r.height||"50%",n=r.width||"300px",c=r.backdrop!==!1,o=!1;e.classList.add("cubfirst-drawer",t);let u=()=>{e.innerHTML=`
      ${t==="bottom"?'<div class="cubfirst-drawer-handle"></div>':""}
      ${i?`
        <div class="cubfirst-drawer-header">
          <div class="cubfirst-drawer-title">${i}</div>
          <button class="cubfirst-drawer-close" onclick="closeDrawer()">\xD7</button>
        </div>
      `:""}
      <div class="cubfirst-drawer-content">
        ${e.innerHTML}
      </div>
    `,t==="top"||t==="bottom"?e.style.height=a:e.style.width=n},b=()=>{var f;if(o=!0,e.classList.add("open"),I()&&(t==="left"||t==="right"?e.style.width="100vw":t==="bottom"&&(e.style.height="80vh")),c){let m=document.createElement("div");m.className="cubfirst-drawer-overlay show",m.onclick=l,document.body.appendChild(m),e.overlay=m}(f=r.onOpen)==null||f.call(r),e.dispatchEvent(new CustomEvent("drawerOpen"))},l=()=>{var f;o=!1,e.classList.remove("open"),e.overlay&&(e.overlay.remove(),delete e.overlay),(f=r.onClose)==null||f.call(r),e.dispatchEvent(new CustomEvent("drawerClose"))},s=()=>l();window.closeDrawer=s;let d={open:b,close:l,isOpen:()=>o,setTitle:f=>{i=f,u()},setPosition:f=>{t=f,e.className=`cubfirst-drawer ${t}`,u()},setHeight:f=>{a=f,(t==="top"||t==="bottom")&&(e.style.height=a)},setWidth:f=>{n=f,(t==="left"||t==="right")&&(e.style.width=n)},setBackdrop:f=>{c=f}};e.drawerAPI=d,w.register(e,()=>{e.overlay&&e.overlay.remove(),delete e.drawerAPI,delete window.closeDrawer}),u()}function De(e,r){let t=r.placeholder||"\xC9crivez votre contenu...",i=r.toolbar||["bold","italic","underline","link","list","color"],a=!1;e.classList.add("cubfirst-rich-editor");let n=()=>{e.innerHTML=`
      <div class="cubfirst-rich-editor-toolbar">
        ${i.includes("bold")?`<button class="cubfirst-rich-editor-button" onclick="execCommand('bold')" title="Gras">B</button>`:""}
        ${i.includes("italic")?`<button class="cubfirst-rich-editor-button" onclick="execCommand('italic')" title="Italique">I</button>`:""}
        ${i.includes("underline")?`<button class="cubfirst-rich-editor-button" onclick="execCommand('underline')" title="Soulign\xE9">U</button>`:""}
        ${i.includes("strikethrough")?`<button class="cubfirst-rich-editor-button" onclick="execCommand('strikeThrough')" title="Barr\xE9">S</button>`:""}
        ${i.includes("link")?'<button class="cubfirst-rich-editor-button" onclick="createLink()" title="Lien">\u{1F517}</button>':""}
        ${i.includes("list")?`<button class="cubfirst-rich-editor-button" onclick="execCommand('insertUnorderedList')" title="Liste">\u2022</button>`:""}
        ${i.includes("color")?'<button class="cubfirst-rich-editor-button" onclick="toggleColorPicker()" title="Couleur">\u{1F3A8}</button>':""}
        ${i.includes("align")?`<button class="cubfirst-rich-editor-button" onclick="execCommand('justifyLeft')" title="Aligner \xE0 gauche">\u2B05</button>`:""}
        ${i.includes("align")?`<button class="cubfirst-rich-editor-button" onclick="execCommand('justifyCenter')" title="Centrer">\u2194</button>`:""}
        ${i.includes("align")?`<button class="cubfirst-rich-editor-button" onclick="execCommand('justifyRight')" title="Aligner \xE0 droite">\u27A1</button>`:""}
      </div>
      <div class="cubfirst-rich-editor-content" contenteditable="true" data-placeholder="${t}"></div>
      ${i.includes("color")?`
        <div class="cubfirst-rich-editor-color-picker" style="display: none;">
          <div class="cubfirst-rich-editor-color-option" style="background: #000000" onclick="setColor('#000000')"></div>
          <div class="cubfirst-rich-editor-color-option" style="background: #ef4444" onclick="setColor('#ef4444')"></div>
          <div class="cubfirst-rich-editor-color-option" style="background: #f59e0b" onclick="setColor('#f59e0b')"></div>
          <div class="cubfirst-rich-editor-color-option" style="background: #10b981" onclick="setColor('#10b981')"></div>
          <div class="cubfirst-rich-editor-color-option" style="background: #3b82f6" onclick="setColor('#3b82f6')"></div>
          <div class="cubfirst-rich-editor-color-option" style="background: #8b5cf6" onclick="setColor('#8b5cf6')"></div>
          <div class="cubfirst-rich-editor-color-option" style="background: #ec4899" onclick="setColor('#ec4899')"></div>
        </div>
      `:""}
    `,c()},c=()=>{let f=e.querySelector(".cubfirst-rich-editor-content");f.addEventListener("input",()=>{var h;let m=f.innerHTML;(h=r.onContentChange)==null||h.call(r,m),e.dispatchEvent(new CustomEvent("contentChange",{detail:{content:m}}))}),f.addEventListener("keydown",m=>{m.key==="Enter"&&m.ctrlKey&&(m.preventDefault(),o("insertParagraph"))})},o=(f,m)=>{document.execCommand(f,!1,m),s()},u=()=>{let f=prompt("Entrez l'URL du lien:");f&&o("createLink",f)},b=()=>{let f=e.querySelector(".cubfirst-rich-editor-color-picker");f&&(f.style.display=f.style.display==="none"?"block":"none")},l=f=>{o("foreColor",f);let m=e.querySelector(".cubfirst-rich-editor-color-picker");m&&(m.style.display="none")},s=()=>{e.querySelectorAll(".cubfirst-rich-editor-button").forEach(m=>{var y,v;let h=(v=(y=m.getAttribute("onclick"))==null?void 0:y.match(/execCommand\('([^']+)'\)/))==null?void 0:v[1];h&&m.classList.toggle("active",document.queryCommandState(h))})};window.execCommand=o,window.createLink=u,window.toggleColorPicker=b,window.setColor=l;let d={getContent:()=>{var f;return((f=e.querySelector(".cubfirst-rich-editor-content"))==null?void 0:f.innerHTML)||""},setContent:f=>{let m=e.querySelector(".cubfirst-rich-editor-content");m&&(m.innerHTML=f)},getText:()=>{var f;return((f=e.querySelector(".cubfirst-rich-editor-content"))==null?void 0:f.textContent)||""},setText:f=>{let m=e.querySelector(".cubfirst-rich-editor-content");m&&(m.textContent=f)},focus:()=>{let f=e.querySelector(".cubfirst-rich-editor-content");f==null||f.focus()},blur:()=>{let f=e.querySelector(".cubfirst-rich-editor-content");f==null||f.blur()},clear:()=>{let f=e.querySelector(".cubfirst-rich-editor-content");f&&(f.innerHTML="")},execCommand:o,updateToolbar:s};e.richEditorAPI=d,w.register(e,()=>{delete e.richEditorAPI,delete window.execCommand,delete window.createLink,delete window.toggleColorPicker,delete window.setColor}),n()}function qe(e,r){if(!r.image&&!r.text)return;let t=document.createElement("div");if(t.className="cubfirst-hover-preview",Object.assign(t.style,{position:"fixed",zIndex:"50",display:"none",pointerEvents:"none",background:"#fff",border:"1px solid #ccc",padding:"6px",borderRadius:"6px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",maxWidth:"250px"}),r.image){let o=document.createElement("img");o.src=r.image,o.style.cssText="max-width: 200px; width: 100%; height: auto; display: block;",t.appendChild(o)}if(r.text){let o=document.createElement("p");o.textContent=r.text,o.style.cssText="margin: 4px 0 0 0; font-size: 14px; color: #333;",t.appendChild(o)}document.body.appendChild(t);let i=()=>{t.style.display="block"},a=()=>{t.style.display="none"},n=o=>{let u=o.pageX+16,b=o.pageY+16,l=t.getBoundingClientRect(),s=window.innerWidth-l.width-20,d=window.innerHeight-l.height-20;t.style.left=`${Math.min(u,s)}px`,t.style.top=`${Math.min(b,d)}px`};e.addEventListener("mouseenter",i),e.addEventListener("mouseleave",a),e.addEventListener("mousemove",n);let c=new MutationObserver(()=>{document.contains(e)||(t.remove(),c.disconnect())});c.observe(document.body,{childList:!0,subtree:!0})}function Ne(e){if(!e)return{};try{return JSON.parse(e)}catch(r){return console.warn(`cubFirst: Options JSON invalides "${e}". Utilisation des options par d\xE9faut.`),{}}}function A(e,r,t=[]){for(let i of t)if(!r[i])return console.error(`cubFirst: Option "${i}" requise pour le plugin "${e}"`),!1;return!0}function I(){return window.innerWidth<=480}var D=class{constructor(){$(this,"cleanupFunctions",new Map);$(this,"observer");this.observer=new MutationObserver(r=>{r.forEach(t=>{t.removedNodes.forEach(i=>{i.nodeType===Node.ELEMENT_NODE&&this.cleanupElement(i)})})}),this.observer.observe(document.body,{childList:!0,subtree:!0})}register(r,t){this.cleanupFunctions.has(r)||this.cleanupFunctions.set(r,[]),this.cleanupFunctions.get(r).push(t)}cleanupElement(r){let t=this.cleanupFunctions.get(r);t&&(t.forEach(i=>{try{i()}catch(a){console.warn("cubFirst: Erreur lors du nettoyage:",a)}}),this.cleanupFunctions.delete(r)),r.querySelectorAll("[data-plugin]").forEach(i=>{this.cleanupElement(i)})}destroy(){this.observer.disconnect(),this.cleanupFunctions.clear()}},w=new D,Oe={init:(e,r,t={})=>{document.querySelectorAll(e).forEach(a=>{a.dataset.plugin=r,a.dataset.options=JSON.stringify(t),F(a,r,t)})},toast:(e,r="info",t=3e3)=>{let i=document.createElement("div");O(i,{message:e,type:r,duration:t})},version:"2.0.0",cleanup:e=>{e?w.cleanupElement(e):w.destroy()},getAPI:(e,r)=>{let t=typeof e=="string"?document.querySelector(e):e;return t?r==="carousel"?t.carouselAPI||null:r==="modal"?t.modalAPI||null:r==="tabs"?t.tabsAPI||null:r==="accordion"?t.accordionAPI||null:r==="rating"?t.ratingAPI||null:r==="dropdown"?t.dropdownAPI||null:r==="toast"?t.toastAPI||null:r==="tooltip"?t.tooltipAPI||null:r==="toggle"?t.toggleAPI||null:r==="copy"?t.copyAPI||null:r==="scrollto"?t.scrollToAPI||null:r==="countdown"?t.countdownAPI||null:r==="darkmode"?t.darkModeAPI||null:r==="confirm"?t.confirmAPI||null:r==="progress-bar"?t.progressBarAPI||null:r==="file-upload"?t.fileUploadAPI||null:r==="date-picker"?t.datePickerAPI||null:r==="color-picker"?t.colorPickerAPI||null:r==="slider"?t.sliderAPI||null:r==="switch"?t.switchAPI||null:r==="breadcrumb"?t.breadcrumbAPI||null:r==="pagination"?t.paginationAPI||null:r==="sidebar"?t.sidebarAPI||null:r==="sticky"?t.stickyAPI||null:r==="alert"?t.alertAPI||null:r==="skeleton"?t.skeletonAPI||null:r==="lazy-load"?t.lazyLoadAPI||null:r==="search"?t.searchAPI||null:r==="autocomplete"?t.autocompleteAPI||null:r==="swipe"?t.swipeAPI||null:r==="data-table"?t.dataTableAPI||null:r==="time-picker"?t.timePickerAPI||null:r==="multi-select"?t.multiSelectAPI||null:r==="loader"?t.loaderAPI||null:r==="progress-scroll"?t.progressScrollAPI||null:r==="theme-system"?t.themeSystemAPI||null:r==="drawer"?t.drawerAPI||null:r==="rich-editor"?t.richEditorAPI||null:{carousel:t.carouselAPI||null,modal:t.modalAPI||null,tabs:t.tabsAPI||null,accordion:t.accordionAPI||null,rating:t.ratingAPI||null,dropdown:t.dropdownAPI||null,toast:t.toastAPI||null,tooltip:t.tooltipAPI||null,toggle:t.toggleAPI||null,copy:t.copyAPI||null,scrollto:t.scrollToAPI||null,countdown:t.countdownAPI||null,darkmode:t.darkModeAPI||null,confirm:t.confirmAPI||null,progressBar:t.progressBarAPI||null,fileUpload:t.fileUploadAPI||null,datePicker:t.datePickerAPI||null,colorPicker:t.colorPickerAPI||null,slider:t.sliderAPI||null,switch:t.switchAPI||null,breadcrumb:t.breadcrumbAPI||null,pagination:t.paginationAPI||null,sidebar:t.sidebarAPI||null,sticky:t.stickyAPI||null,alert:t.alertAPI||null,skeleton:t.skeletonAPI||null,lazyLoad:t.lazyLoadAPI||null,search:t.searchAPI||null,autocomplete:t.autocompleteAPI||null,swipe:t.swipeAPI||null,dataTable:t.dataTableAPI||null,timePicker:t.timePickerAPI||null,multiSelect:t.multiSelectAPI||null,loader:t.loaderAPI||null,progressScroll:t.progressScrollAPI||null,themeSystem:t.themeSystemAPI||null,drawer:t.drawerAPI||null,richEditor:t.richEditorAPI||null}:null}};function F(e,r,t){try{switch(r){case"modal":X(e,t);break;case"tabs":Y(e);break;case"accordion":W(e);break;case"tooltip":J(e,t);break;case"contact-form":G(e,t);break;case"copy":K(e,t);break;case"toggle":Q(e,t);break;case"scrollto":_(e,t);break;case"countdown":Z(e,t);break;case"darkmode-toggle":ee(e);break;case"confirm":te(e,t);break;case"dropdown":re(e,t);break;case"carousel":ie(e,t);break;case"toast":O(e,t);break;case"reveal":se(e,t);break;case"input-mask":ne(e,t);break;case"card":ae(e,t);break;case"filter":le(e,t);break;case"grid-expand":ue(e);break;case"hover-preview":qe(e,t);break;case"rating":oe(e,t);break;case"load-more":ce(e,t);break;case"hamburger":de(e,t);break;case"progress-bar":be(e,t);break;case"file-upload":fe(e,t);break;case"date-picker":me(e,t);break;case"color-picker":pe(e,t);break;case"slider":he(e,t);break;case"switch":ge(e,t);break;case"breadcrumb":ye(e,t);break;case"pagination":ve(e,t);break;case"sidebar":xe(e,t);break;case"sticky":we(e,t);break;case"alert":ke(e,t);break;case"skeleton":Ee(e,t);break;case"lazy-load":Le(e,t);break;case"search":Ce(e,t);break;case"autocomplete":Te(e,t);break;case"swipe":Me(e,t);break;case"data-table":Se(e,t);break;case"time-picker":Pe(e,t);break;case"multi-select":Ae(e,t);break;case"loader":Ie(e,t);break;case"progress-scroll":He(e,t);break;case"theme-system":ze(e,t);break;case"drawer":$e(e,t);break;case"rich-editor":De(e,t);break;default:console.warn(`cubFirst: Plugin "${r}" non reconnu`)}}catch(i){console.error(`cubFirst: Erreur sur le plugin "${r}"`,i)}}document.addEventListener("DOMContentLoaded",()=>{V(),document.querySelectorAll("[data-plugin]").forEach(e=>{let r=e.dataset.plugin;if(!r)return;let t=Ne(e.dataset.options||"{}");F(e,r,t)})});typeof window!="undefined"&&(window.cubFirst=Oe,window.getCarousel=e=>{let r=document.querySelector(e);return r?r.carouselAPI:null});})();
